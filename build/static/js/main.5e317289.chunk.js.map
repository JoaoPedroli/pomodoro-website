{"version":3,"sources":["pages/Dashboard/styles.module.scss","pages/Home/styles.module.scss","components/Header/styles.module.scss","components/MenuProfileOptions/styles.module.scss","components/CalendarHeatMap/styles.module.scss","pages/Login__Register/styles.module.scss","pages/Settings/styles.module.scss","components/Loader/styles.module.scss","pages/NotFoundError/styles.module.scss","styles/app.module.scss","database/firebaseConnection.ts","contexts/authContext.tsx","database/authErrorMessages.ts","components/Toast/index.tsx","hooks/useTimer.ts","contexts/pomodoroContext.tsx","components/Header/index.tsx","components/Loader/index.jsx","components/CalendarHeatMap/index.tsx","components/MenuProfileOptions/index.tsx","pages/Dashboard/index.tsx","components/ButtonTimer/index.tsx","utils/formatTime.ts","pages/Home/index.tsx","pages/Login__Register/index.tsx","pages/NotFoundError/index.tsx","pages/Settings/index.tsx","routes.tsx","App.tsx","index.tsx"],"names":["module","exports","firebase","apps","length","initializeApp","AuthContext","createContext","AuthContextProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","userData","setUserData","username","email","_useState3","_useState4","isLoadingAuth","setIsLoadingAuth","_useState5","_useState6","isLoading","setIsLoading","useEffect","storageUserData","localStorage","getItem","JSON","parse","loadStorage","handleReturnErrorMessage","error","code","toast","errorCode","_errorMessage","errorMessage","getAuthErrorMessage","console","log","saveUserDataInLocalStorage","setItem","stringify","saveUserData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","uid","getFirebasePath","redirectAndSendFeedback","saveUserSignedData","_saveUserSignedData","saveUserNotSignedData","_saveUserNotSignedData","wrap","_context3","prev","next","_callee2","_context2","set","then","catch","stop","apply","arguments","_callee","_context","get","userProfile","data","success","firestore","collection","doc","_x","createUserWithEmailAndPassword","_ref4","_callee5","_ref3","password","_context5","auth","_ref5","_callee4","ev","_context4","user","abrupt","sent","_x3","_x2","createUserWithGoogle","_ref6","_callee6","createGoogleAuthProvider","_context6","provider","GoogleAuthProvider","addScope","signInWithPopup","signIn","_ref7","_callee8","_context8","signInWithEmailAndPassword","_ref8","_callee7","_context7","_x6","_x4","_x5","signOut","_ref9","_callee9","_context9","removeItem","t0","_jsx","Provider","value","isSigned","Boolean","useAuth","useContext","Toast","_classCallCheck","_createClass","key","message","info","useTimer","pomodoroData","isStudy","totalPomodorosCompleted","status","handleChangeStatus","saveStudyProgressInFirebase","saveShortBreakProgressInFirebase","saveLongBreakProgressInFirebase","convertMinutesToSeconds","timeInSeconds","setTimeInSeconds","isActive","setIsActive","isPaused","setIsPaused","countRef","useRef","NUM_NEEDED_FOR_LONG_BREAK","getStudyTime","toggleStart","toggleStudy","toggleShortBreak","toggleLongBreak","verifyAndSaveProgressInFirebase","handleCountdown","bool","toggleSituation","handlePause","current","setInterval","isEnd","clearInterval","handleStart","handleResume","handleStop","confirm","window","handleConfirmStop","PomodoroContext","PomodoroContextProvider","_useAuth","setStatus","isStart","setIsStart","setIsStudy","_useState7","_useState8","isShortBreak","setIsShortBreak","_useState9","_useState10","isLongBreak","setIsLongBreak","_useState11","_useState12","theme","setTheme","_useState13","_useState14","setTotalPomodorosCompleted","_useState15","_useState16","getCurrentDateString","currentDay","Date","setHours","setMinutes","setSeconds","concat","getAndIncreaseDuration","location","increment","getDuration","_getDuration","handleIncrease","_handleIncrease","duration","_doc$data$duration","_doc$data","_saveStudyProgressInFirebase","_yield$handleAddStudy","handleAddStudyTime","_handleAddStudyTime","_saveShortBreakProgressInFirebase","_callee11","handleAddShortBreakTime","_handleAddShortBreakTime","_context11","_callee10","_context10","_saveLongBreakProgressInFirebase","_callee13","handleAddLongBreakTime","_handleAddLongBreakTime","_context13","_callee12","_context12","newStatus","handleChangeIsStart","handleChangeIsStudy","_handleChangeIsStudy","handleChangeIsShortBreak","_handleChangeIsShortBreak","handleChangeIsLongBreak","_handleChangeIsLongBreak","newIsLongBreak","handleRestartTotalPomodoro","toggleThemeLongBreak","newIsShortBreak","handleAddOnePomodoro","toggleThemeShortBreak","isStartValue","newIsStudy","toggleThemeStudy","newIsStart","useTheme","useDarkTheme","useLightTheme","pomodoroContextResponse","minutes","useTimerResponse","_objectSpread","usePomodoro","Header","_usePomodoro","history","useHistory","isHover","setIsHover","toggleHover","handleRedirectToSign","optionAuth","push","_jsxs","className","styles","container","style","background","id","fontSize","onClick","FiUser","userIcon","color","onMouseEnter","onMouseLeave","Loader","_ref$size","size","_useLoading","useLoading","loading","indicator","Puff","width","containerProps","indicatorEl","CalendarHeatMap","pomodoroDays","formatDate","date","format","CalendarHeatmap","values","showWeekdayLabels","startDate","tomorrowsDateLastYear","setFullYear","getFullYear","getTomorrowsDateLastYear","endDate","tomorrowsDate","setDate","getDate","getTomorrowsDate","titleForValue","countInMinutes","undefined","getTitleForValue","classForValue","findValueCountRange","getClassForValue","MenuProfileOptions","pageOptions","name","icon","FiPieChart","route","MdOutlineLeaderboard","FiSettings","FiHelpCircle","isSignOut","FiLogOut","marginBottom","map","page","divExit","pathname","replace","handleSignOut","marginRight","Dashboard","setPomodoroDays","allStudyTime","setAllStudyTime","allShortBreakTime","setAllShortBreakTime","allLongBreakTime","setAllLongBreakTime","getUid","getPlural","getStudyDaysAndAllStudyTime","_getStudyDaysAndAllStudyTime","newStudyDays","newAllStudyTime","i","_newStudyDays$i","newDate","Array","snapshot","forEach","intervalBetweenTodayAndSnapshotDay","String","getAllShortBreakTime","_getAllShortBreakTime","newAllShortBreakTime","_doc$data2","getAllLongBreakTime","_getAllLongBreakTime","_doc$data$duration2","_doc$data3","_fetchData","_yield$getStudyDaysAn","newShortBreakTime","newLongBreakTime","fetchData","subcontainer","statisticsContainer","containerAllTime","borderRadius","ButtonTimer","formatTime","formattedSeconds","slice","timeInMinutes","Math","floor","formattedMinutes","Home","ProgressBar","variant","min","now","max","progressTimer","title","time","marginTop","Login__Register","useLocation","setOptionAuth","setUsername","setEmail","setPassword","search","substring","handleSubmit","e","preventDefault","Form","onSubmit","form","_Fragment","FormLabel","FormControl","required","type","placeholder","onChange","target","NotFoundError","Settings","handleUpdate","update","Routes","AuthenticatedRoute","Component","component","rest","_objectWithoutProperties","_excluded","Route","render","props","Redirect","to","state","from","NoAuthenticatedRoute","_excluded2","Switch","exact","path","Error","App","BrowserRouter","ToastContainer","autoClose","ReactDOM","React","StrictMode","document","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,uBAAuB,qCAAqC,UAAY,0BAA0B,aAAe,6BAA6B,oBAAsB,oCAAoC,iBAAmB,iCAAiC,UAAU,wBAAwB,aAAa,2BAA2B,iBAAiB,+BAA+B,gBAAgB,8BAA8B,cAAc,4BAA4B,eAAe,6BAA6B,aAAa,2BAA2B,QAAU,wB,qBCA9jBD,EAAOC,QAAU,CAAC,uBAAuB,qCAAqC,aAAe,6BAA6B,UAAU,wBAAwB,aAAa,2BAA2B,iBAAiB,+BAA+B,gBAAgB,8BAA8B,cAAc,4BAA4B,eAAe,6BAA6B,aAAa,2BAA2B,QAAU,wBAAwB,UAAY,0BAA0B,cAAgB,8BAA8B,MAAQ,sBAAsB,KAAO,qBAAqB,YAAc,4BAA4B,WAAa,2B,qBCAvoBD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,SAAW,yBAAyB,KAAO,qBAAqB,YAAY,0BAA0B,aAAa,2B,qBCA3KD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,sBAAsB,oCAAoC,qBAAqB,mCAAmC,mBAAmB,iCAAiC,oBAAoB,kCAAkC,6BAA6B,2CAA2C,4BAA4B,0CAA0C,0BAA0B,wCAAwC,2BAA2B,yCAAyC,QAAU,wB,qBCAljBD,EAAOC,QAAU,CAAC,yBAAyB,uCAAuC,cAAc,4BAA4B,iBAAiB,+BAA+B,iBAAiB,+BAA+B,kBAAkB,gCAAgC,kBAAkB,gC,qBCAhSD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,KAAO,qB,qBCA/DD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,aAAe,6B,qBCAvED,EAAOC,QAAU,CAAC,UAAY,0B,qBCA9BD,EAAOC,QAAU,CAAC,UAAY,0B,qBCA9BD,EAAOC,QAAU,CAAC,UAAY,uB,qKCOzBC,IAASC,KAAKC,QAClBF,IAASG,cALa,CACH,GAOLH,QAAQ,E,OC4BVI,EAAcC,wBAAsC,MAEpDC,EAAsB,SAAHC,GAAgD,IAA1CC,EAAQD,EAARC,SACrCC,EAAgCC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAAvCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GACtBI,EAAmB,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUE,SACrBC,EAAgB,OAARH,QAAQ,IAARA,OAAQ,EAARA,EAAUG,MAExBC,EAA0CP,oBAAS,GAAMQ,EAAAN,YAAAK,EAAA,GAAlDE,EAAaD,EAAA,GAAEE,EAAgBF,EAAA,GACtCG,EAAkCX,oBAAS,GAAKY,EAAAV,YAAAS,EAAA,GAAzCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAE9BG,qBAAU,YAGT,WACC,IAAMC,EAAkBC,aAAaC,QAAQ,YAEzCF,GAAiBZ,EAAYe,KAAKC,MAAMJ,IAE5CF,GAAa,EACd,CARAO,EASD,GAAG,IAEH,IAAMC,EAA2B,SAAAC,GAC5BA,EAAMC,KACTC,IAAMF,MChE0B,SAACG,GAAuB,IAADC,EACrDC,EAAe,GAEnB,OAAQF,GACP,IAAK,4BACJE,EACC,0DACD,MAED,IAAK,qBACJA,EAAe,kCACf,MAED,IAAK,6BACJA,EACC,uHACD,MAED,IAAK,qBACJA,EAAe,qCACf,MAED,IAAK,qBACJA,EACC,+DACD,MAED,IAAK,sBACJA,EAAe,qDACf,MAED,IAAK,sBACJA,EAAe,2BAIjB,OAAmB,QAAnBD,EAAOC,SAAY,IAAAD,IAAID,CACxB,CD2BeG,CAAoBN,EAAMC,OAEtCC,IAAMF,MACL,oFAGFO,QAAQC,IAAIR,GACZb,GAAiB,EAClB,EAEMsB,EAA6B,SAAC7B,GACnCc,aAAagB,QAAQ,WAAYd,KAAKe,UAAU/B,GACjD,EAEMgC,EAAY,eAAAC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAOrC,GAA6B,IAAAsC,EAAApC,EAAAC,EAM/CoC,EAIAC,EAIMC,EAAkBC,EAclBC,EAAqBC,EAAA,OAAAT,cAAAU,MAAC,SAADC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OA1BT,GA0BSJ,EAAA,WAYnC,OAZmCA,EAAAV,YAAAC,cAAAC,MAApC,SAAAa,IAAA,OAAAd,cAAAU,MAAA,SAAAK,GAAA,cAAAA,EAAAH,KAAAG,EAAAF,MAAA,cAAAE,EAAAF,KAAA,EACOT,IACJY,IAAI,CACJjD,WACAC,UAEAiD,MAAK,WACLnD,EAAYD,GACZ6B,EAA2B7B,GAC3BwC,GACD,IACCa,OAAM,SAAAjC,GAAK,OAAID,EAAyBC,EAAM,IAAE,KAAD,mBAAA8B,EAAAI,OAAA,GAAAL,EAAA,MACjDM,MAAA,KAAAC,UAAA,EAZcb,EAAqB,kBAAAC,EAAAW,MAAC,KAADC,UAAA,EAAAd,EAAA,WAFnC,OAEmCA,EAAAR,YAAAC,cAAAC,MAdpC,SAAAqB,IAAA,OAAAtB,cAAAU,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAV,KAAA,EACOT,IACJoB,MACAP,MAAK,SAAAQ,GACL,IAAM1D,EAAW0D,EAAYC,OAAO3D,SACpCF,EAASE,SAAWA,EAEpBD,EAAYD,GACZ6B,EAA2B7B,GAC3BwC,GACD,IACCa,OAAM,SAAAjC,GAAK,OAAID,EAAyBC,EAAM,IAAE,KAAD,mBAAAsC,EAAAJ,OAAA,GAAAG,EAAA,KACjDf,EAAAa,MAAA,KAAAC,UAAA,EAZcf,EAAkB,kBAAAC,EAAAa,MAAC,KAADC,UAAA,EAJxBhB,EAAuB,WAC/BlB,IAAMwC,QAAQ,0BACf,EANSvB,EAAe,WACvB,OAAOpD,EAAS4E,YAAYC,WAAW,SAASC,IAAI3B,EACrD,EAPQA,EAAyBtC,EAAzBsC,IAAKpC,EAAoBF,EAApBE,SAAUC,EAAUH,EAAVG,QACLD,EACL,CAAD4C,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAAQP,IAAqB,KAAD,GAAAK,EAAAE,KAAA,wBAAAF,EAAAE,KAAA,GAC7BL,IAAwB,KAAD,oBAAAG,EAAAQ,OAAA,GAAAjB,EAAA,KAqClC,gBAzCiB6B,GAAA,OAAAjC,EAAAsB,MAAA,KAAAC,UAAA,KA2CZW,EAA8B,eAAAC,EAAAlC,YAAAC,cAAAC,MAAG,SAAAiC,EAAAC,GAAA,IAAAnE,EAAAoE,EAAArE,EAAA,OAAAiC,cAAAU,MAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,OAKf,OAJvB7C,EAAKmE,EAALnE,MACAoE,EAAQD,EAARC,SACArE,EAAQoE,EAARpE,SAEAK,GAAiB,GAAMiE,EAAAxB,KAAA,EAEjB7D,EACJsF,OACAN,+BAA+BhE,EAAOoE,GACtCnB,KAAI,eAAAsB,EAAAxC,YAAAC,cAAAC,MACJ,SAAAuC,EAAMC,GAAE,OAAAzC,cAAAU,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACDhB,EAAa,CAClBM,IAAKsC,EAAGE,KAAKxC,IACbnC,QACAD,aACC,cAAA2E,EAAAE,OAAA,SAAAF,EAAAG,MAAA,wBAAAH,EAAAvB,OAAA,GAAAqB,EAAA,qBAAAM,GAAA,OAAAP,EAAAnB,MAAA,KAAAC,UAAA,EANC,IAQJH,OAAM,SAAAjC,GAAK,OAAID,EAAyBC,EAAM,IAAE,KAAD,EAEjDb,GAAiB,GAAO,wBAAAiE,EAAAlB,OAAA,GAAAe,EAAA,KACxB,gBArBmCa,GAAA,OAAAd,EAAAb,MAAA,KAAAC,UAAA,KAuB9B2B,EAAoB,eAAAC,EAAAlD,YAAAC,cAAAC,MAAG,SAAAiD,IAAA,IACnBC,EAAwB,OAAAnD,cAAAU,MAAC,SAAD0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,OAQhC,OARQsC,EAAwB,WAChC,IAAME,EAAW,IAAIrG,EAASsF,KAAKgB,mBAMnC,OAJAD,EAASE,SACR,qDAGMF,CACR,EAACD,EAAAvC,KAAA,EAEY7D,EACXsF,OACAkB,gBAAgBL,KAChBlC,MAAK,WAAO,IACZC,OAAM,SAAAjC,GAAK,OAAID,EAAyBC,EAAM,IAAE,KAAD,SAAAmE,EAAAR,OAAA,SAAAQ,EAAAP,MAAA,wBAAAO,EAAAjC,OAAA,GAAA+B,EAAA,KACjD,kBAhByB,OAAAD,EAAA7B,MAAA,KAAAC,UAAA,KAkBpBoC,EAAM,eAAAC,EAAA3D,YAAAC,cAAAC,MAAG,SAAA0D,EAAO3F,EAAeoE,GAAgB,OAAApC,cAAAU,MAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,OAC7B,OAAvBzC,GAAiB,GAAMwF,EAAA/C,KAAA,EAEjB7D,EACJsF,OACAuB,2BAA2B7F,EAAOoE,GAClCnB,KAAI,eAAA6C,EAAA/D,YAAAC,cAAAC,MAAC,SAAA8D,EAAMtB,GAAE,OAAAzC,cAAAU,MAAA,SAAAsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,OACbhB,EAAa,CACZM,IAAKsC,EAAGE,KAAKxC,IACbnC,MAAOyE,EAAGE,KAAK3E,QACb,wBAAAgG,EAAA7C,OAAA,GAAA4C,EAAA,KACH,gBAAAE,GAAA,OAAAH,EAAA1C,MAAA,KAAAC,UAAA,EALI,IAMJH,OAAM,SAAAjC,GAAK,OAAID,EAAyBC,EAAM,IAAE,KAAD,EAEjDb,GAAiB,GAAO,wBAAAwF,EAAAzC,OAAA,GAAAwC,EAAA,KACxB,gBAfWO,EAAAC,GAAA,OAAAT,EAAAtC,MAAA,KAAAC,UAAA,KAiBN+C,EAAO,eAAAC,EAAAtE,YAAAC,cAAAC,MAAG,SAAAqE,IAAA,OAAAtE,cAAAU,MAAA,SAAA6D,GAAA,cAAAA,EAAA3D,KAAA2D,EAAA1D,MAAA,cAAA0D,EAAA3D,KAAA,EAAA2D,EAAA1D,KAAA,EAER7D,EAASsF,OAAO8B,UAAU,KAAD,EAC/BzF,aAAa6F,WAAW,YACxB1G,EAAY,MAAMyG,EAAA1D,KAAA,uBAAA0D,EAAA3D,KAAA,EAAA2D,EAAAE,GAAAF,EAAA,SAAAA,EAAA3B,OAAA,SAEX,CAAE3D,MAAKsF,EAAAE,KAAE,yBAAAF,EAAApD,OAAA,GAAAmD,EAAA,kBAEjB,kBARY,OAAAD,EAAAjD,MAAA,KAAAC,UAAA,KAUb,OACCqD,cAACtH,EAAYuH,SAAQ,CACpBC,MAAO,CACNC,SAAUC,QAAQjH,GAClBA,WACAE,WACAC,QACAO,YACAJ,gBACA6D,iCACAgB,uBACAS,SACAW,WACC5G,SAEDA,GAGJ,EAEauH,EAAU,WAAH,OAASC,qBAAW5H,EAAa,E,wBE9LtC,MAjBJ,oBAAA6H,IAAAC,YAAA,KAAAD,EAAA,CAcT,OAdSE,YAAAF,EAAA,EAAAG,IAAA,UAAAR,MACV,SAAQS,GACPlG,IAAMwC,QAAe,OAAP0D,QAAO,IAAPA,IAAW,+BAC1B,GAAC,CAAAD,IAAA,QAAAR,MAED,SAAMS,GACLlG,IAAMF,MACE,OAAPoG,QAAO,IAAPA,IACC,8EAEH,GAAC,CAAAD,IAAA,OAAAR,MAED,SAAKS,GACJlG,IAAMmG,KAAKD,EACZ,KAACJ,CAAA,CAdS,ICsBEM,EAAW,SAACC,GACxB,IACCC,EAQGD,EARHC,QACAC,EAOGF,EAPHE,wBACAC,EAMGH,EANHG,OACAC,EAKGJ,EALHI,mBACAC,EAIGL,EAJHK,4BACAC,EAGGN,EAHHM,iCACAC,EAEGP,EAFHO,gCACAC,EACGR,EADHQ,wBAGDvI,EAA0CC,mBACzCsI,EAAwB,KACxBrI,EAAAC,YAAAH,EAAA,GAFMwI,EAAatI,EAAA,GAAEuI,EAAgBvI,EAAA,GAGtCM,EAAgCP,oBAAS,GAAMQ,EAAAN,YAAAK,EAAA,GAAxCkI,EAAQjI,EAAA,GAAEkI,EAAWlI,EAAA,GAC5BG,EAAgCX,oBAAS,GAAMY,EAAAV,YAAAS,EAAA,GAAxCgI,EAAQ/H,EAAA,GAAEgI,EAAWhI,EAAA,GAEtBiI,EAAWC,iBAAO,MAElBC,EAA4B,EAG5BC,EAAe,WAAH,OAAsBV,EAAwB,GAAG,EAI7DW,EAAc,WACnBf,EAAmB,SACnBM,EAAiBQ,IAClB,EAEME,EAAc,WACnBhB,EAAmB,SACnBM,EAAiBQ,IAClB,EAEMG,EAAmB,WACxBjB,EAAmB,eACnBM,EAf4CF,EAAwB,GAgBrE,EAEMc,EAAkB,WACvBlB,EAAmB,cACnBM,EAnB2CF,EAAwB,IAoBpE,EAcMe,EAA+B,eAAAxJ,EAAAwC,YAAAC,cAAAC,MAAG,SAAAqB,IAAA,OAAAtB,cAAAU,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,UACxB,UAAX8E,GAAiC,UAAXA,EAAkB,CAAApE,EAAAV,KAAA,eAAAU,EAAAV,KAAA,EACrCgF,IAA8B,KAAD,EAEM,KAAD,EAAAtE,EAAAV,KAAA,SAFL,YACzB6E,EAA0B,GAAC,CAAAnE,EAAAV,KAAA,gBAAAU,EAAAV,KAAA,EAC/BiF,IAAkC,eAAAvE,EAAAV,KAAA,GAElCkF,IAAkC,KAAD,oBAAAxE,EAAAJ,OAAA,GAAAG,EAAA,KAExC,kBARoC,OAAA/D,EAAA6D,MAAA,KAAAC,UAAA,KAU/B2F,EAAkB,SAACC,GAoBxB,SAASC,IAEJzB,IAAYwB,EACXvB,IAA4Be,EAC/BK,IAEAD,IAGDD,IAEDO,GACD,CA/BAZ,EAASa,QAAUC,YAAWtH,YAAAC,cAAAC,MAAC,SAAAa,IAAA,IAAAwG,EAAA,OAAAtH,cAAAU,MAAA,SAAAK,GAAA,cAAAA,EAAAH,KAAAG,EAAAF,MAAA,OAY3B,GAXCyG,GAAQ,EAEZpB,GAAiB,SAACD,GACjB,OAAsB,IAAlBA,GACHiB,IACO,IAEJjB,EAAgB,IAAM,IACzBqB,GAAQ,GAEFrB,EAAgB,EACxB,KAEIqB,EAAM,CAADvG,EAAAF,KAAA,eAAAE,EAAAF,KAAA,EACFkG,IAAkC,KAAD,mBAAAhG,EAAAI,OAAA,GAAAL,EAAA,KAEtC,IAeJ,EAEMqG,EAAc,WACnBI,cAAchB,EAASa,SACvBd,GAAY,EACb,EAsBA,MAAO,CACNL,gBACAE,WACAE,WACAmB,YAtFmB,WACnBZ,IACAR,GAAY,GACZE,GAAY,GACZU,GAAgB,EACjB,EAkFCG,cACAM,aAjFoB,WACpBnB,GAAY,GACZU,GAAgB,EACjB,EA+ECU,WA3BkB,YAYlB,WACC,IAAMC,EAAUC,OAAOD,QACtB,8EAED,OAAO7C,QAAQ6C,EAChB,EAhBIE,KAKHN,cAAchB,EAASa,SACvBhB,GAAY,GACZE,GAAY,GACZK,IASF,EAWD,ECnIamB,EAAkBzK,wBAA2C,MAE7D0K,EAA0B,SAAHxK,GAEC,IADpCC,EAAQD,EAARC,SAEAwK,EAA+BjD,IAAvBF,EAAQmD,EAARnD,SAAUhH,EAAQmK,EAARnK,SACZsC,EAAc,OAARtC,QAAQ,IAARA,OAAQ,EAARA,EAAUsC,IAEtB1C,EAA4BC,mBAAwB,SAAQC,EAAAC,YAAAH,EAAA,GAArDkI,EAAMhI,EAAA,GAAEsK,EAAStK,EAAA,GACxBM,EAA8BP,oBAAS,GAAKQ,EAAAN,YAAAK,EAAA,GAArCiK,EAAOhK,EAAA,GAAEiK,EAAUjK,EAAA,GAC1BG,EAA8BX,oBAAS,GAAMY,EAAAV,YAAAS,EAAA,GAAtCoH,EAAOnH,EAAA,GAAE8J,EAAU9J,EAAA,GAC1B+J,EAAwC3K,oBAAS,GAAM4K,EAAA1K,YAAAyK,EAAA,GAAhDE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,EAAsC/K,oBAAS,GAAMgL,EAAA9K,YAAA6K,EAAA,GAA9CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAA0BnL,mBAAS,WAAUoL,EAAAlL,YAAAiL,EAAA,GAAtCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,EAA8DvL,mBAAS,GAAEwL,EAAAtL,YAAAqL,EAAA,GAAlEvD,EAAuBwD,EAAA,GAAEC,EAA0BD,EAAA,GAC1DE,EAAkC1L,oBAAS,GAAM2L,EAAAzL,YAAAwL,EAAA,GAA1C7K,EAAS8K,EAAA,GAAE7K,EAAY6K,EAAA,GAIxBC,EAAuB,WAC5B,IAAMC,EAAa,IAAIC,KAIvB,OAHAD,EAAWE,SAAS,GACnBF,EAAWG,WAAW,GACtBH,EAAWI,WAAW,GACjB,GAANC,OAAUL,EACX,EAEMM,EAAsB,eAAA/J,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAC9B4J,EAIAC,GAAiB,IAAAlI,EAAAC,EAKFkI,EAAWC,EAWXC,EAAcC,EAAA,OAAAnK,cAAAU,MAAC,SAADC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAdN,OAcMsJ,EAAA,WAkB5B,OAlB4BA,EAAApK,YAAAC,cAAAC,MAA7B,SAAAa,IAAA,IAAAsJ,EAAA,OAAApK,cAAAU,MAAA,SAAAK,GAAA,cAAAA,EAAAH,KAAAG,EAAAF,MAAA,cAAAE,EAAAF,KAAA,EACsBmJ,IAAc,KAAD,EAAtB,OAARI,EAAQrJ,EAAA8B,KAAA9B,EAAAF,KAAA,EAEC7D,EACX4E,YACAC,WAAW,SACXC,IAAI3B,GACJ0B,WAAWA,GACXC,IAAIA,GACJd,IAAI,CACJoJ,SAAUA,EAAWL,IAErB9I,MAAK,WACL,MAAO,CAAC,CACT,IACCC,OAAM,SAAAjC,GACN,MAAO,CAAEA,QACV,IAAG,KAAD,SAAA8B,EAAA6B,OAAA,SAAA7B,EAAA8B,MAAA,wBAAA9B,EAAAI,OAAA,GAAAL,EAAA,MACHM,MAAA,KAAAC,UAAA,EAlBc6I,EAAc,kBAAAC,EAAA/I,MAAC,KAADC,UAAA,EAAA4I,EAAA,WAF5B,OAE4BA,EAAAlK,YAAAC,cAAAC,MAX7B,SAAAqB,IAAA,OAAAtB,cAAAU,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAV,KAAA,EACc7D,EACX4E,YACAC,WAAW,SACXC,IAAI3B,GACJ0B,WAAWA,GACXC,IAAIA,GACJN,MACAP,MAAK,SAAAa,GAAG,IAAAuI,EAAAC,EAAA,OAAwB,QAAxBD,EAAc,QAAdC,EAAIxI,EAAIJ,cAAM,IAAA4I,OAAA,EAAVA,EAAYF,gBAAQ,IAAAC,IAAI,CAAC,IAAE,KAAD,SAAA9I,EAAAqB,OAAA,SAAArB,EAAAsB,MAAA,wBAAAtB,EAAAJ,OAAA,GAAAG,EAAA,KACxC2I,EAAA7I,MAAA,KAAAC,UAAA,EATc2I,EAAW,kBAAAC,EAAA7I,MAAC,KAADC,UAAA,EAHlBQ,EAAoBiI,EAApBjI,WAAYC,EAAQgI,EAARhI,IAAGnB,EAAAE,KAAA,EACVqJ,IAAiB,KAAD,SAAAvJ,EAAAiC,OAAA,SAAAjC,EAAAkC,MAAA,wBAAAlC,EAAAQ,OAAA,GAAAjB,EAAA,KAgC7B,gBAxC2B6B,EAAAgB,GAAA,OAAAjD,EAAAsB,MAAA,KAAAC,UAAA,KA0Cc,SAAAkJ,IA2BzC,OA3ByCA,EAAAxK,YAAAC,cAAAC,MAA1C,SAAAqE,IAAA,IAAAkG,EAAAvL,EAiBgBwL,EAAkBC,EAAA,OAAA1K,cAAAU,MAAC,SAAD6D,GAAA,cAAAA,EAAA3D,KAAA2D,EAAA1D,MAAA,UAAA6J,EAAA,WAShC,OATgCA,EAAA3K,YAAAC,cAAAC,MAAjC,SAAA0D,IAAA,IAAAmG,EAAA,OAAA9J,cAAAU,MAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,OAMqB,OALdiJ,EAAW,CAChBjI,WAAY,kBACZC,IAAKwH,KAGY,GAAE1F,EAAA/C,KAAA,EAEPgJ,EAAuBC,EAFlB,IAEuC,KAAD,SAAAlG,EAAAhB,OAAA,SAAAgB,EAAAf,MAAA,wBAAAe,EAAAzC,OAAA,GAAAwC,EAAA,MACxDvC,MAAA,KAAAC,UAAA,EATcoJ,EAAkB,kBAAAC,EAAAtJ,MAAC,KAADC,UAAA,EAhB5BwD,EAAS,CAADN,EAAA1D,KAAA,QAGV,OAFFoE,EAAMK,KACL,kEACCf,EAAA3B,OAAA,wBAAA2B,EAAA1D,KAAA,EAIqB4J,IAAqB,KAAD,EAAAD,EAAAjG,EAAA1B,MAApC5D,EAAKuL,EAALvL,QAEPgG,EAAMhG,QACNO,QAAQC,IAAS,OAALR,QAAK,IAALA,IAAS,KAErBgG,EAAMtD,QACL,wIACC,yBAAA4C,EAAApD,OAAA,GAAAmD,EAAA,KAYHiG,EAAAnJ,MAAA,KAAAC,UAAA,CAE8C,SAAAsJ,IAmB9C,OAnB8CA,EAAA5K,YAAAC,cAAAC,MAA/C,SAAA2K,IAAA,IAAA3L,EASgB4L,EAAuBC,EAAA,OAAA9K,cAAAU,MAAC,SAADqK,GAAA,cAAAA,EAAAnK,KAAAmK,EAAAlK,MAAA,UAAAiK,EAAA,WASrC,OATqCA,EAAA/K,YAAAC,cAAAC,MAAtC,SAAA+K,IAAA,IAAAlB,EAAA,OAAA9J,cAAAU,MAAA,SAAAuK,GAAA,cAAAA,EAAArK,KAAAqK,EAAApK,MAAA,OAMoB,OALbiJ,EAAW,CAChBjI,WAAY,wBACZC,IAAKwH,KAGY,EAAC2B,EAAApK,KAAA,EAENgJ,EAAuBC,EAFlB,GAEuC,KAAD,SAAAmB,EAAArI,OAAA,SAAAqI,EAAApI,MAAA,wBAAAoI,EAAA9J,OAAA,GAAA6J,EAAA,MACxD5J,MAAA,KAAAC,UAAA,EATcwJ,EAAuB,kBAAAC,EAAA1J,MAAC,KAADC,UAAA,EARjCwD,EAAS,CAADkG,EAAAlK,KAAA,eAAAkK,EAAAnI,OAAA,wBAAAmI,EAAAlK,KAAA,EAEQgK,IAAyB,QAAxC5L,EAAK8L,EAAAlI,KAAqC5D,SAE/CgG,EAAMhG,QACNO,QAAQC,IAAIR,IACZ,wBAAA8L,EAAA5J,OAAA,GAAAyJ,EAAA,KAYDD,EAAAvJ,MAAA,KAAAC,UAAA,CAE6C,SAAA6J,IAmB7C,OAnB6CA,EAAAnL,YAAAC,cAAAC,MAA9C,SAAAkL,IAAA,IAAAlM,EASgBmM,EAAsBC,EAAA,OAAArL,cAAAU,MAAC,SAAD4K,GAAA,cAAAA,EAAA1K,KAAA0K,EAAAzK,MAAA,UAAAwK,EAAA,WASpC,OAToCA,EAAAtL,YAAAC,cAAAC,MAArC,SAAAsL,IAAA,IAAAzB,EAAA,OAAA9J,cAAAU,MAAA,SAAA8K,GAAA,cAAAA,EAAA5K,KAAA4K,EAAA3K,MAAA,OAMqB,OALdiJ,EAAW,CAChBjI,WAAY,uBACZC,IAAKwH,KAGY,GAAEkC,EAAA3K,KAAA,EAEPgJ,EAAuBC,EAFlB,IAEuC,KAAD,SAAA0B,EAAA5I,OAAA,SAAA4I,EAAA3I,MAAA,wBAAA2I,EAAArK,OAAA,GAAAoK,EAAA,MACxDnK,MAAA,KAAAC,UAAA,EATc+J,EAAsB,kBAAAC,EAAAjK,MAAC,KAADC,UAAA,EARhCwD,EAAS,CAADyG,EAAAzK,KAAA,eAAAyK,EAAA1I,OAAA,wBAAA0I,EAAAzK,KAAA,EAEQuK,IAAwB,QAAvCnM,EAAKqM,EAAAzI,KAAoC5D,SAE9CgG,EAAMhG,QACNO,QAAQC,IAAIR,IACZ,wBAAAqM,EAAAnK,OAAA,GAAAgK,EAAA,KAYDD,EAAA9J,MAAA,KAAAC,UAAA,CAED,IAAMuE,GAAkB,eAAAzD,EAAApC,YAAAC,cAAAC,MAAG,SAAA8D,EAAO0H,GAAwB,IAShDC,EAYMC,EAAmBC,EAWnBC,EAAwBC,EAkBxBC,EAAuBC,EAAA,OAAAhM,cAAAU,MAAC,SAADsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,OAhDc,OAgDdmL,EAAA,WAcrC,OAdqCA,EAAAjM,YAAAC,cAAAC,MAAtC,SAAAiD,EAAuC+I,GAAuB,IAOpDC,EAIAC,EAAoB,OAAAnM,cAAAU,MAAC,SAAD0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,OAVE,GAUtBsL,EAAoB,WAC5BnD,EAAS,QACV,EANSkD,EAA0B,WAClC/C,EAA2B,EAC5B,EARAP,EAAeqD,GACVA,EAAe,CAAD7I,EAAAvC,KAAA,eAAAuC,EAAAR,OAAA,iBAEnBsJ,IACAC,IAAuB,wBAAA/I,EAAAjC,OAAA,GAAA+B,EAAA,MASvB9B,MAAA,KAAAC,UAAA,EAdc0K,EAAuB,SAAA9H,GAAA,OAAA+H,EAAA5K,MAAC,KAADC,UAAA,EAAAyK,EAAA,WAFrC,OAEqCA,EAAA/L,YAAAC,cAAAC,MAlBtC,SAAAiC,EAAwCkK,GAAwB,IAOtDC,EAMAC,EAAqB,OAAAtM,cAAAU,MAAC,SAAD2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,OAZG,GAYxByL,EAAqB,WAC7BtD,EAAS,OACV,EARSqD,EAAoB,WAC5B,IAAME,EAAezH,QAAoC,IAA5BY,GAE7ByD,EAA2BzD,GADT6G,EAAe,EAAI,GAEtC,EAVA/D,EAAgB4D,GACXA,EAAgB,CAAD/J,EAAAxB,KAAA,eAAAwB,EAAAO,OAAA,iBAEpByJ,IACAC,IAAwB,wBAAAjK,EAAAlB,OAAA,GAAAe,EAAA,MAWxBd,MAAA,KAAAC,UAAA,EAhBcwK,EAAwB,SAAA1H,GAAA,OAAA2H,EAAA1K,MAAC,KAADC,UAAA,EAAAuK,EAAA,WAFtC,OAEsCA,EAAA7L,YAAAC,cAAAC,MAXvC,SAAAuC,EAAmCgK,GAAmB,IAM5CC,EAAgB,OAAAzM,cAAAU,MAAC,SAADgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OALF,GAKd4L,EAAgB,WACxBzD,EAAS,SACV,EAPAZ,EAAWoE,GACNA,EAAW,CAAD9J,EAAA7B,KAAA,eAAA6B,EAAAE,OAAA,iBAEf6J,IAAmB,wBAAA/J,EAAAvB,OAAA,GAAAqB,EAAA,MAKnBpB,MAAA,KAAAC,UAAA,EATcsK,EAAmB,SAAAzH,GAAA,OAAA0H,EAAAxK,MAAC,KAADC,UAAA,EAZzBqK,EAAmB,SAACgB,GAC5BvE,EAAWuE,GACNA,IAELvD,EAA2B,GAI1BH,EAAS,WAEX,EAlBAxK,GAAa,GACbkN,EAAoB5G,QAAsB,UAAd2G,IAAwBzH,EAAAnD,KAAA,GAC9C8K,EAAoB7G,QAAsB,UAAd2G,IAAwB,KAAD,UAAAzH,EAAAnD,KAAA,GACnDgL,EAAyB/G,QAAsB,gBAAd2G,IAA8B,KAAD,UAAAzH,EAAAnD,KAAA,GAC9DkL,EAAwBjH,QAAsB,eAAd2G,IAA6B,KAAD,GAClExD,EAAUwD,GACVjN,GAAa,GAAO,yBAAAwF,EAAA7C,OAAA,GAAA4C,EAAA,KA0DpB,gBAjEuBjB,GAAA,OAAAX,EAAAf,MAAA,KAAAC,UAAA,KAmElBsL,GAAQ,SAAA/C,OAAYb,EAAK,KACzB6D,GAAY,cAAAhD,OAAiBb,EAAK,KAClC8D,GAAa,eAAAjD,OAAkBb,EAAK,KAEpC+D,GAA0B,CAC/B5E,UACAzC,UACA8C,eACAI,cACApK,YACAmH,0BACAqD,QACApD,SACAgH,YACAC,gBACAC,iBACAhH,4BA5JC,WAEwC,OAAA0E,EAAAnJ,MAAC,KAADC,UAAA,EA2JzCyE,iCAhIA,WAE8C,OAAA6E,EAAAvJ,MAAC,KAADC,UAAA,EA+H9C0E,gCA5GA,WAE6C,OAAAmF,EAAA9J,MAAC,KAADC,UAAA,EA2G7CuE,sBACAI,wBAlN+B,SAAC+G,GAAe,OAAuB,GAAVA,CAAa,GAqNpEC,GAAmBzH,EAASuH,IAElC,OACCpI,cAACoD,EAAgBnD,SAAQ,CACxBC,MAAKqI,wBAAA,GACDH,IACAE,IACFxP,SAEDA,GAGJ,EAEa0P,EAAc,WAC1B,OAAOlI,qBAAW8C,EACnB,E,yCC9QaqF,EAAS,WACrB,IAAQtI,EAAaE,IAAbF,SACRuI,EAA8BF,IAAtBP,EAAQS,EAART,SACFU,GADmBD,EAAPlF,QACFoF,eAChB7P,EAA8BC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtC8P,EAAO5P,EAAA,GAAE6P,EAAU7P,EAAA,GAEpB8P,EAAc,WAAH,OAASD,GAAYD,EAAS,EAMzCG,EAAuB,SAACC,GAC7BN,EAAQO,KAAK,WAADhE,OAAY+D,GACzB,EAEA,OACCE,eAAA,OACCC,UAAWC,IAAOC,UAClBC,MAAO,CACNC,WAAYvB,GACXnP,SAAA,CAEFkH,cAAA,QACCyJ,GAAG,UACHF,MAAO,CAAEG,SAAU,IACnBC,QAAS,kBAAMhB,EAAQO,KAAK,IAAI,EAACpQ,SACjC,aAIAqH,EACAH,cAAC4J,IAAM,CACNH,GAAG,UACHL,UAAWC,IAAOQ,SAClBN,MAAO,CAAEO,MAAO7B,GAChB0B,QAAS,WA3BZhB,EAAQO,KAAK,aA2BgC,IAG3CC,eAAA,OAAKC,UAAWC,IAAOzL,KAAK9E,SAAA,CAC3BkH,cAAA,UACCoJ,UAAU,iBACVK,GAAIJ,IAAO,aACXU,aAAchB,EACdiB,aAAcjB,EACdY,QAAS,kBAAMX,EAAqB,SAAS,EAC7CO,MACCV,EACG,CAAEiB,MAAO7B,GACT,CAAE6B,MAAO,gBACZhR,SACD,UAIDkH,cAAA,UACCoJ,UAAU,iBACVK,GAAIJ,IAAO,cACXE,MAAO,CAAEO,MAAO7B,GAChB0B,QAAS,kBAAMX,EAAqB,SAAS,EAAClQ,SAC9C,iBAON,E,yBCtEamR,EAAS,SAAHpR,GAAqC,IAADqR,EAAArR,EAA9BsR,YAAI,IAAAD,EAAG,KAAIA,EAC3BjC,GAD2BpP,EAAEiR,MAChBtB,IAAbP,UAERmC,EAAwCC,YAAW,CAClDC,SAAS,EACTC,UAAWvK,cAACwK,IAAI,CAACC,MAAON,MAFjBO,EAAcN,EAAdM,eAAgBC,EAAWP,EAAXO,YAKxB,OACC3K,cAAA,UAAAuI,wBAAA,GACKmC,GAAc,IAClBtB,UAAWC,IAAOC,UAClBC,MAAO,CAAEO,MAAO7B,GAAWnP,SAE1B6R,IAGJ,E,kDCPaC,EAAkB,SAAH/R,GAA6C,IAAvCgS,EAAYhS,EAAZgS,aAC3BhG,EAAa,IAAIC,KAEjBgG,EAAa,SAACC,GAAU,OAAaC,YAAOD,EAAM,aAAc,EAyCtE,OACC/K,cAAA,OAAKoJ,UAAWC,IAAO,0BAA0BvQ,SAChDkH,cAACiL,IAAe,CACfC,OAAoB,OAAZL,QAAY,IAAZA,IAAgB,GACxBM,mBAAiB,EACjBC,UAAWN,EAtCmB,WAChC,IAAMO,EAAwB,IAAIvG,KAElC,OADAuG,EAAsBC,YAAYzG,EAAW0G,cAAgB,GACtDF,CACR,CAkCyBG,IACtBC,QAASX,EA7Ca,WACxB,IAAMY,EAAgB,IAAI5G,KAE1B,OADA4G,EAAcC,QAAQ9G,EAAW+G,UAAY,GACtCF,CACR,CAyCuBG,IACpBC,cAAe,SAAC5L,GAAuB,OAlCjB,SAAH9E,GAAA,IACrB2P,EAAI3P,EAAJ2P,KACAgB,EAAc3Q,EAAd2Q,eAAc,YAEKC,IAAnBD,GAA4B,GAAA7G,OACzB8F,YAAO,IAAIlG,KAAKiG,GAAO,gBAAe,OAAA7F,OAAM6G,EAAc,WAAA7G,OACzC,IAAnB6G,EAAuB,GAAK,IAAG,YACpB,CA4BTE,CAAiB/L,EAAM,EAExBgM,cAAe,SAAAzO,GAAA,IAAGsO,EAActO,EAAdsO,eAAc,OAC/B1C,IAhBqB,SAAC0C,GAAsB,OAC/CA,EAAc,eAAA7G,OAda,SAAC6G,GAC5B,OAAIA,GAAkB,GACd,GAEJA,GAAkB,GACd,GAEJA,GAAkB,IACd,IAED,GACR,CAImBI,CAAoBJ,IACnC,aAAc,CAaPK,CAAiBL,GAAgB,KAK7C,E,yBClEaM,EAAqB,WACjC,IAAA/I,EAA8BjD,IAAtBX,EAAO4D,EAAP5D,QAASrG,EAAQiK,EAARjK,SACTgL,EAAUmE,IAAVnE,MACFsE,EAAUC,cAEV0D,EAAc,CACnB,CACCC,KAAM,YACNC,KAAMxM,cAACyM,IAAU,IACjBC,MAAO,cAER,CACCH,KAAM,OACNC,KAAMxM,cAAC2M,IAAoB,IAC3BD,MAAO,gBAER,CACCH,KAAM,WACNC,KAAMxM,cAAC4M,IAAU,IACjBF,MAAO,aAER,CACCH,KAAM,SACNC,KAAMxM,cAAC6M,IAAY,IACnBH,MAAO,WAER,CACCI,WAAW,EACXP,KAAM,WACNC,KAAMxM,cAAC+M,IAAQ,MAqBjB,OACC5D,eAAA,OAAKC,UAAWC,IAAOC,UAAUxQ,SAAA,CAChCqQ,eAAA,MAAII,MAAO,CAAEyD,aAAc,IAAKlU,SAAA,CAAC,YAAUO,EAAS,OAEnDiT,EAAYW,KAAI,SAAApU,GAAA,IARPqU,EAQUJ,EAASjU,EAATiU,UAAWP,EAAI1T,EAAJ0T,KAAMC,EAAI3T,EAAJ2T,KAAME,EAAK7T,EAAL6T,MAAK,OAC/CvD,eAAA,OAECC,UACC0D,EACGzD,IAAO8D,SAbHD,EAcDR,EAbHtM,QAAQuI,EAAQvD,SAASgI,WAAaF,GActC7D,IAAO,sBAADnE,OAAuBb,IAC7BgF,IAAO,eAADnE,OAAgBb,KAE1BsF,QAAS,kBACRmD,EAhCiB,WAErB,GADgB5J,OAAOD,QAAQ,sCAC/B,CAEA,IAAQ1I,EAAUmF,IAAVnF,MACJA,GACHgG,EAAMhG,QACNO,QAAQC,IAAIR,IAEZoO,EAAQ0E,QAAQ,IAPG,CASrB,CAqBiBC,GAAkB3E,EAAQO,KAAKwD,EAAM,EACjD5T,SAAA,CAEDkH,cAAA,QAAMuJ,MAAO,CAAEgE,YAAa,IAAKzU,SAAE0T,IAEnCxM,cAAA,QAAAlH,SAAOyT,MAdFA,EAeA,MAIV,E,iBCtEaiB,EAAY,WACOhF,IAAvBtH,mBAAR,IAEAnI,EAAwCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA7C8R,EAAY5R,EAAA,GAAEwU,EAAexU,EAAA,GACpCM,EAAwCP,mBAAS,GAAEQ,EAAAN,YAAAK,EAAA,GAA5CmU,EAAYlU,EAAA,GAAEmU,EAAenU,EAAA,GACpCG,EAAkDX,mBAAS,GAAEY,EAAAV,YAAAS,EAAA,GAAtDiU,EAAiBhU,EAAA,GAAEiU,EAAoBjU,EAAA,GAC9C+J,EAAgD3K,mBAAS,GAAE4K,EAAA1K,YAAAyK,EAAA,GAApDmK,EAAgBlK,EAAA,GAAEmK,EAAmBnK,EAAA,GAC5CG,EAAkC/K,oBAAS,GAAKgL,EAAA9K,YAAA6K,EAAA,GAAzClK,EAASmK,EAAA,GAAElK,EAAYkK,EAAA,GAExBgK,EAAS,WAAH,OAAS7T,KAAKC,MAAMH,aAAaC,QAAQ,aAAauB,GAAI,EAChEwS,EAAY,SAAC/N,GAAa,OAAgB,IAAVA,EAAc,GAAK,GAAG,EAgBrD,SAEQgO,IAA2B,OAAAC,EAAAzR,MAAC,KAADC,UAAA,UAAAwR,IA2CzC,OA3CyCA,EAAA9S,YAAAC,cAAAC,MAA1C,SAAAa,IAAA,IAAAgS,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAlT,cAAAU,MAAA,SAAAK,GAAA,cAAAA,EAAAH,KAAAG,EAAAF,MAAA,OAMqB,OAFdiS,EAAe,IAAIK,MAA0B,KAC/CJ,EAAkB,EACH,EAAChS,EAAAF,KAAA,EAEd7D,EACJ4E,YACAC,WAAW,SACXC,IAAI4Q,KACJ7Q,WAAW,mBACXL,MACAP,MAAK,SAAAmS,GACLA,EAASC,SAAQ,SAAAvR,GAChB,IAAMwR,GACL,IAAI9J,MAAO8G,UAAY,IAAI9G,KAAQ,OAAH1H,QAAG,IAAHA,OAAG,EAAHA,EAAKqM,IAAImC,UAElClG,EAAatI,EAAIJ,OAAjB0I,SAER2I,GAAmB3I,EAElB0I,EAAaQ,GAAsC,CACnD7D,KAAS,OAAH3N,QAAG,IAAHA,OAAG,EAAHA,EAAKqM,GACXsC,eAAgBrG,EAGlB,GACD,IAAG,KAAD,EAEH,IAAS4I,EAAI,EAAGA,EAAI,MAAOA,EACN,QAAhBC,EAACH,EAAaE,UAAE,IAAAC,GAAfA,EAAiBxD,QACfyD,EAAU,IAAI1J,MACZ6G,QAAQ6C,EAAQ5C,UAAY0C,GACpCF,EAAaE,GAAK,CACjBvD,KAAM8D,OAAOL,GACbzC,eAAgB,IAGlB,OAAA1P,EAAA6B,OAAA,SAEM,CAAEkQ,eAAcC,oBAAiB,wBAAAhS,EAAAI,OAAA,GAAAL,EAAA,MACxCM,MAAA,KAAAC,UAAA,UAEcmS,IAAoB,OAAAC,EAAArS,MAAC,KAADC,UAAA,UAAAoS,IAgBlC,OAhBkCA,EAAA1T,YAAAC,cAAAC,MAAnC,SAAAC,IAAA,IAAAwT,EAAA,OAAA1T,cAAAU,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAC6B,OAAxB6S,EAAuB,EAAC/S,EAAAE,KAAA,EAEtB7D,EACJ4E,YACAC,WAAW,SACXC,IAAI4Q,KACJ7Q,WAAW,yBACXL,MACAP,MAAK,SAAAmS,GACLA,EAASC,SACR,SAAAvR,GAAG,IAAAuI,EAAAsJ,EAAA,OAAKD,GAA4C,QAAxBrJ,EAAc,QAAdsJ,EAAI7R,EAAIJ,cAAM,IAAAiS,OAAA,EAAVA,EAAYvJ,gBAAQ,IAAAC,IAAI,CAAC,GAE3D,IAAG,KAAD,SAAA1J,EAAAiC,OAAA,SAEI8Q,GAAoB,wBAAA/S,EAAAQ,OAAA,GAAAjB,EAAA,MAC3BkB,MAAA,KAAAC,UAAA,UAEcuS,IAAmB,OAAAC,EAAAzS,MAAC,KAADC,UAAA,UAAAwS,IAgBjC,OAhBiCA,EAAA9T,YAAAC,cAAAC,MAAlC,SAAAuC,IAAA,IAAAkR,EAAA,OAAA1T,cAAAU,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OAC6B,OAAxB6S,EAAuB,EAAChR,EAAA7B,KAAA,EAEtB7D,EACJ4E,YACAC,WAAW,SACXC,IAAI4Q,KACJ7Q,WAAW,wBACXL,MACAP,MAAK,SAAAmS,GACLA,EAASC,SACR,SAAAvR,GAAG,IAAAgS,EAAAC,EAAA,OAAKL,GAA4C,QAAxBI,EAAc,QAAdC,EAAIjS,EAAIJ,cAAM,IAAAqS,OAAA,EAAVA,EAAY3J,gBAAQ,IAAA0J,IAAI,CAAC,GAE3D,IAAG,KAAD,SAAApR,EAAAE,OAAA,SAEI8Q,GAAoB,wBAAAhR,EAAAvB,OAAA,GAAAqB,EAAA,MAC3BpB,MAAA,KAAAC,UAAA,CAED,OAjGA5C,qBAAU,WAGe,SAAAuV,IAUvB,OAVuBA,EAAAjU,YAAAC,cAAAC,MAAxB,SAAAqB,IAAA,IAAA2S,EAAAnB,EAAAC,EAAAmB,EAAAC,EAAA,OAAAnU,cAAAU,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAV,KAAA,EAEQ+R,IAA8B,KAAD,EADC,OACDqB,EAAA1S,EAAAsB,KAD5BiQ,EAAYmB,EAAZnB,aAAcC,EAAekB,EAAflB,gBAAexR,EAAAV,KAAA,EAEL2S,IAAuB,KAAD,EAA/B,OAAjBU,EAAiB3S,EAAAsB,KAAAtB,EAAAV,KAAA,GACQ+S,IAAsB,KAAD,GAA9CO,EAAgB5S,EAAAsB,KACtBsP,EAAgBW,GAChBT,EAAgBU,GAChBR,EAAqB2B,GACrBzB,EAAoB0B,GACpB3V,GAAa,GAAO,yBAAA+C,EAAAJ,OAAA,GAAAG,EAAA,MACpBF,MAAA,KAAAC,UAAA,EAZW,WAEY2S,EAAA5S,MAAC,KAADC,UAAA,CAFxB+S,EAaD,GAAG,IAoFFvG,eAAA,OAAKC,UAAWC,IAAOC,UAAUxQ,SAAA,CAChCkH,cAACqM,EAAkB,IAElBxS,EACAmG,cAACiK,EAAM,IAEPd,eAAA,OAAKC,UAAWC,IAAOsG,aAAa7W,SAAA,CACnCkH,cAAA,MAAAlH,SAAI,cAEJkH,cAAC4K,EAAe,CAACC,aAAcA,IAE/B1B,eAAA,OAAKC,UAAWC,IAAOuG,oBAAoB9W,SAAA,CAC1CqQ,eAAA,OACCC,UAAWC,IAAOwG,iBAClBtG,MAAO,CACNuG,aAAc,gBACdtG,WACC,sDACA1Q,SAAA,CAEFkH,cAAA,QAAAlH,SAAM,qBACNqQ,eAAA,QAAArQ,SAAA,CACE4U,EAAa,UAAQO,EAAUP,GAAe,IAC9CA,EAAe,IAAM,6CAGxBvE,eAAA,OAAKC,UAAU,aAAYtQ,SAAA,CAC1BqQ,eAAA,OACCC,UAAWC,IAAOwG,iBAClBtG,MAAO,CACNuG,aAAc,aACdtG,WACC,kDACA1Q,SAAA,CAEFkH,cAAA,QAAAlH,SAAM,2BACNqQ,eAAA,QAAArQ,SAAA,CACE8U,EAAkB,UAClBK,EAAUL,SAGbzE,eAAA,OACCC,UAAWC,IAAOwG,iBAClBtG,MAAO,CACNuG,aAAc,aACdtG,WACC,oDACA1Q,SAAA,CAEFkH,cAAA,QAAAlH,SAAM,0BACNqQ,eAAA,QAAArQ,SAAA,CACEgV,EAAiB,UACjBG,EAAUH,oBASpB,E,QC/KaiC,EAAc,SAAHlX,GAKC,IAJxB8I,EAAQ9I,EAAR8I,SACAmB,EAAWjK,EAAXiK,YACAL,EAAW5J,EAAX4J,YACAM,EAAYlK,EAAZkK,aAEA2F,EAA2BF,IAAnBnE,EAAKqE,EAALrE,MAER,OAFsBqE,EAAPlF,QAGdxD,cAAA,UACCuJ,MAAO,CAAEkB,MAAO,QAChBrB,UAAU,iBACVO,QAAS7G,EAAYhK,SACrB,UAIDkH,cAAA,UACCuJ,MAAO,CAAEkB,MAAO,QAChBrB,UAAS,GAAAlE,OAAKb,EAAK,WACnBsF,QAAShI,EAAWc,EAAcM,EAAajK,SAE9C6I,EAAW,QAAU,UAGzB,EClCaqO,EAAa,WAAwB,IAAvBzO,EAAa5E,UAAAnE,OAAA,QAAAwT,IAAArP,UAAA,GAAAA,UAAA,GAAG,EACpCsT,EAAmB,IAAA/K,OAAI3D,EAAgB,IAAK2O,OAAO,GACnDC,EAAgBC,KAAKC,MAAM9O,EAAgB,IAC3C+O,EAAmB,IAAApL,OAAIiL,EAAgB,IAAKD,OAAO,GAGzD,MAFmB,GAAAhL,OAAMoL,EAAgB,OAAApL,OAAM+K,EAGhD,E,iBCAaM,GAAO,WACnB,IAAA7H,EAYIF,IAXHhF,EAAOkF,EAAPlF,QACAzC,EAAO2H,EAAP3H,QACA8C,EAAY6E,EAAZ7E,aACAhK,EAAS6O,EAAT7O,UACAyH,EAAuBoH,EAAvBpH,wBACAC,EAAamH,EAAbnH,cACAI,EAAQ+G,EAAR/G,SACAmB,EAAW4F,EAAX5F,YACAL,EAAWiG,EAAXjG,YACAM,EAAY2F,EAAZ3F,aACAC,EAAU0F,EAAV1F,WAGD,OACChD,cAAA,OAAKoJ,UAAWC,IAAOC,UAAUxQ,SAC/Be,EACAmG,cAAA,OAAKoJ,UAAWC,IAAOsG,aAAa7W,SACnCkH,cAACiK,EAAM,MAGRd,eAAA,OAAKC,UAAWC,IAAOsG,aAAa7W,SAAA,CAClC0K,GACAxD,cAACwQ,IAAW,CACXC,QAAS1P,EAAU,UAAY,OAC/B2P,IAAK,EACLC,IAAKpP,EACLqP,IAEItP,EADHP,EAC2B,GACxB8C,EACwB,EACA,IAE5B4F,GAAIJ,IAAOwH,gBAIb7Q,cAAA,MAAIyJ,GAAIJ,IAAOyH,MAAMhY,SACnB0K,EACE,wBACAzC,EACA,WACA8C,EACA,cACA,eAGJ7D,cAAA,MAAIyJ,GAAIJ,IAAO0H,KAAKjY,SAAEkX,EAAWzO,KAEjCvB,cAAC+P,EAAW,CACXpO,SAAUA,EACVmB,YAAaA,EACbL,YAAaA,EACbM,aAAcA,IAGdS,GACAxD,cAAA,UACCuJ,MAAO,CACNyH,UAAW,GACXtH,SAAU,IAEXN,UAAU,aACVO,QAAS3G,EAAWlK,SACpB,aAQP,E,+CCzEamY,GAAkB,WAC9B,IAAM7L,EAAW8L,cAEjB5N,EAAmDjD,IAA3C/C,EAA8BgG,EAA9BhG,+BAAgCyB,EAAMuE,EAANvE,OAChCsF,EAAUmE,IAAVnE,MAERtL,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCkQ,EAAUhQ,EAAA,GAAEkY,EAAalY,EAAA,GAChCM,EAAkCP,oBAAS,GAAMQ,EAAAN,YAAAK,EAAA,GAA1CM,EAASL,EAAA,GAAEM,EAAYN,EAAA,GAC9BG,EAAgCX,mBAAS,IAAGY,EAAAV,YAAAS,EAAA,GAArCN,EAAQO,EAAA,GAAEwX,EAAWxX,EAAA,GAC5B+J,EAA0B3K,mBAAS,IAAG4K,EAAA1K,YAAAyK,EAAA,GAA/BrK,EAAKsK,EAAA,GAAEyN,EAAQzN,EAAA,GACtBG,EAAgC/K,mBAAS,IAAGgL,EAAA9K,YAAA6K,EAAA,GAArCrG,EAAQsG,EAAA,GAAEsN,EAAWtN,EAAA,GAE5BjK,qBAAU,WACT,IAAQwX,EAAWnM,EAAXmM,OACRJ,EAAcI,EAAOC,UAAU,EAAGD,EAAO/Y,QAC1C,GAAG,CAAC4M,EAASmM,SAEb,IAAME,EAAY,eAAA5Y,EAAAwC,YAAAC,cAAAC,MAAG,SAAAqB,EAAM8U,GAAC,OAAApW,cAAAU,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,OAKR,GAJnBuV,EAAEC,iBAEF7W,QAAQC,IAAIkO,GAEZnP,GAAa,GAEM,WAAfmP,EAAuB,CAAApM,EAAAV,KAAA,eAAAU,EAAAV,KAAA,EACpB4C,EAAOzF,EAAOoE,GAAU,KAAD,EAAAb,EAAAV,KAAA,uBAAAU,EAAAV,KAAA,GAEvBmB,EAA+B,CACpCjE,WACAC,QACAoE,aACE,KAAD,GAGH5D,GAAa,GAAO,yBAAA+C,EAAAJ,OAAA,GAAAG,EAAA,KACpB,gBAlBiBS,GAAA,OAAAxE,EAAA6D,MAAA,KAAAC,UAAA,KAoBlB,OACCqD,cAAA,OAAKoJ,UAAWC,KAAOC,UAAUxQ,SAChCkH,cAAC4R,KAAI,CACJC,SAAUJ,EACVrI,UAAWC,KAAOyI,KAAO,wBAAwBhZ,SAEhDe,EACAmG,cAACiK,EAAM,IAEPd,eAAA4I,WAAA,CAAAjZ,SAAA,CACCkH,cAAA,MAAAlH,SACiB,WAAfmQ,EAA0B,WAAa,UAEzB,WAAfA,GACAE,eAAA4I,WAAA,CAAAjZ,SAAA,CACCkH,cAACgS,KAAS,CAAAlZ,SAAC,aACXkH,cAACiS,KAAW,CACXC,UAAQ,EACR3F,KAAK,WACL4F,KAAK,OACLC,YAAY,sBACZlS,MAAO7G,EACPgZ,SAAU,SAAAtU,GAAE,OACXqT,EAAYrT,EAAGuU,OAAOpS,MAAM,OAMhCF,cAACgS,KAAS,CAAAlZ,SAAC,UACXkH,cAACiS,KAAW,CACXC,UAAQ,EACR3F,KAAK,QACL4F,KAAK,QACLC,YAAY,mBACZlS,MAAO5G,EACP+Y,SAAU,SAAAtU,GAAE,OAAIsT,EAAStT,EAAGuU,OAAOpS,MAAM,IAG1CF,cAACgS,KAAS,CAAAlZ,SAAC,aACXkH,cAACiS,KAAW,CACXC,UAAQ,EACRC,KAAK,WACLC,YAAY,sBACZlS,MAAOxC,EACP2U,SAAU,SAAAtU,GAAE,OAAIuT,EAAYvT,EAAGuU,OAAOpS,MAAM,IAG7CF,cAAA,UAAQoJ,UAAS,GAAAlE,OAAKb,EAAK,WAAW8N,KAAK,SAAQrZ,SAClC,WAAfmQ,EAA0B,WAAa,gBAO/C,E,oBCnGasJ,GAAgB,WAC5B,OACCvS,cAAA,OAAKoJ,UAAWC,KAAOC,UAAUxQ,SAChCkH,cAAA,KAAAlH,SAAG,eAGN,E,oBCCa0Z,GAAW,WACvB,IAAQnO,EAAUmE,IAAVnE,MAERtL,EAAkCC,oBAAS,GAAKC,EAAAC,YAAAH,EAAA,GAAzCc,EAASZ,EAAA,GAAEa,EAAYb,EAAA,GAC9BM,EAAgCP,mBAAS,IAAGQ,EAAAN,YAAAK,EAAA,GAArCF,EAAQG,EAAA,GAAE4X,EAAW5X,EAAA,GAC5BG,EAA0BX,mBAAS,IAAGY,EAAAV,YAAAS,EAAA,GAA/BL,EAAKM,EAAA,GAAEyX,EAAQzX,EAAA,GAEhBoU,EAAS,WAAH,OAAS7T,KAAKC,MAAMH,aAAaC,QAAQ,aAAauB,GAAI,EAEtE1B,qBAAU,WAGe,SAAAuV,IAYvB,OAZuBA,EAAAjU,YAAAC,cAAAC,MAAxB,SAAAqB,IAAA,OAAAtB,cAAAU,MAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAV,KAAA,EACO7D,EACJ4E,YACAC,WAAW,SACXC,IAAI4Q,KACJlR,MACAP,MAAK,SAAAmV,GACL,IAAM1U,EAAO0U,EAAE1U,OACfoU,EAAYpU,EAAK3D,UACjBgY,EAASrU,EAAK1D,MACf,IAAG,KAAD,EACHQ,GAAa,GAAO,wBAAA+C,EAAAJ,OAAA,GAAAG,EAAA,MACpBF,MAAA,KAAAC,UAAA,EAdW,WAEY2S,EAAA5S,MAAC,KAADC,UAAA,CAFxB+S,EAeD,GAAG,IAEH,IAAM+C,EAAY,eAAA5Z,EAAAwC,YAAAC,cAAAC,MAAG,SAAAa,EAAMsV,GAAC,OAAApW,cAAAU,MAAA,SAAAK,GAAA,cAAAA,EAAAH,KAAAG,EAAAF,MAAA,OACR,OAAnBuV,EAAEC,iBAAiBtV,EAAAF,KAAA,EACb7D,EACJ4E,YACAC,WAAW,SACXC,IAAI4Q,KACJ0E,OAAO,CACPrZ,WACAC,UAEAiD,MAAK,kBAAMgE,EAAMtD,QAAQ,2CAAqC,IAAE,KAAD,mBAAAZ,EAAAI,OAAA,GAAAL,EAAA,KACjE,gBAXiBiB,GAAA,OAAAxE,EAAA6D,MAAA,KAAAC,UAAA,KAalB,OACCwM,eAAA,OAAKC,UAAWC,KAAOC,UAAUxQ,SAAA,CAChCkH,cAACqM,EAAkB,IAEnBrM,cAAA,OAAKoJ,UAAWC,KAAOsG,aAAa7W,SAClCe,EACAmG,cAACiK,EAAM,IAEPd,eAACyI,KAAI,CAACC,SAAUY,EAAa3Z,SAAA,CAC5BkH,cAACgS,KAAS,CAAAlZ,SAAC,aACXkH,cAACiS,KAAW,CACXC,UAAQ,EACRhS,MAAO7G,EACPgZ,SAAU,SAAAX,GAAC,OAAIN,EAAYM,EAAEY,OAAOpS,MAAM,IAG3CF,cAACgS,KAAS,CAAAlZ,SAAC,UACXkH,cAACiS,KAAW,CACXC,UAAQ,EACRhS,MAAO5G,EACP+Y,SAAU,SAAAX,GAAC,OAAIL,EAASK,EAAEY,OAAOpS,MAAM,IAGxCF,cAAA,UAAQmS,KAAK,SAAS/I,UAAS,GAAAlE,OAAKb,EAAK,WAAUvL,SAAC,kBAQ1D,E,sDCrEa6Z,GAAS,WACrB,IAAArP,EAAgCjD,IAAxBF,EAAQmD,EAARnD,SAEFyS,EAAqB,SAAH/Z,GAAA,IAAiBga,EAASha,EAApBia,UAAyBC,EAAIC,YAAAna,EAAAoa,IAAA,OAC1DjT,cAACkT,IAAK3K,wBAAA,GACDwK,GAAI,IACRI,OAAQ,SAAAC,GAAK,OACZjT,EACCH,cAAC6S,EAAStK,YAAA,GAAK6K,IAEfpT,cAACqT,IAAQ,CACRC,GAAI,CAAElG,SAAU,IAAKmG,MAAO,CAAEC,KAAMJ,EAAMhO,YAE3C,IAED,EAGGqO,EAAuB,SAAHrY,GAAA,IAAiByX,EAASzX,EAApB0X,UAAyBC,EAAIC,YAAA5X,EAAAsY,IAAA,OAC5D1T,cAACkT,IAAK3K,wBAAA,GACDwK,GAAI,IACRI,OAAQ,SAAAC,GAAK,OACXjT,EAGAH,cAACqT,IAAQ,CACRC,GAAI,CACHlG,SAAU,aACVmG,MAAO,CAAEC,KAAMJ,EAAMhO,aALvBpF,cAAC6S,EAAStK,YAAA,GAAK6K,GAQf,IAED,EAGH,OAnC2B9P,EAATzJ,UAoCVmG,cAACiK,EAAM,IAIdd,eAAA,OAAKC,UAAWC,KAAOC,UAAUxQ,SAAA,CAChCkH,cAACyI,EAAM,IACPU,eAACwK,IAAM,CAAA7a,SAAA,CACNkH,cAACkT,IAAK,CAACU,OAAK,EAACC,KAAK,IAAIf,UAAWvC,KACjCvQ,cAACyT,EAAoB,CACpBG,OAAK,EACLC,KAAK,WACLf,UAAW7B,KAEZjR,cAAC4S,EAAkB,CAClBgB,OAAK,EACLC,KAAK,aACLf,UAAWtF,IAEZxN,cAAC4S,EAAkB,CAClBgB,OAAK,EACLC,KAAK,YACLf,UAAWN,KAEZxS,cAACkT,IAAK,CAACW,KAAK,IAAIf,UAAWgB,UAI/B,ECpEaC,GAAM,WAClB,OACC/T,cAACpH,EAAmB,CAAAE,SACnBkH,cAACqD,EAAuB,CAAAvK,SACvBqQ,eAAC6K,IAAa,CAAAlb,SAAA,CACbkH,cAACiU,IAAc,CAACC,UAAW,MAC3BlU,cAAC2S,GAAM,UAKZ,E,MCbAwB,IAAShB,OACRnT,cAACoU,IAAMC,WAAU,CAAAvb,SAChBkH,cAAC+T,GAAG,MAELO,SAASC,eAAe,Q","file":"static/js/main.5e317289.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container-box-shadow\":\"styles_container-box-shadow__1phKK\",\"container\":\"styles_container__3PXbs\",\"subcontainer\":\"styles_subcontainer__3tOAG\",\"statisticsContainer\":\"styles_statisticsContainer__ggCsb\",\"containerAllTime\":\"styles_containerAllTime__TwZDV\",\"div-row\":\"styles_div-row__1TKc7\",\"div-column\":\"styles_div-column__BJQwU\",\"primary-button\":\"styles_primary-button__zD65Z\",\"yellow-button\":\"styles_yellow-button__3Ug1q\",\"blue-button\":\"styles_blue-button__3vMrm\",\"blue1-button\":\"styles_blue1-button__2FX9R\",\"red-button\":\"styles_red-button__2_WYc\",\"pointer\":\"styles_pointer__1uRdF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container-box-shadow\":\"styles_container-box-shadow__2LPCq\",\"subcontainer\":\"styles_subcontainer__14pgV\",\"div-row\":\"styles_div-row__2JewY\",\"div-column\":\"styles_div-column__2D2zu\",\"primary-button\":\"styles_primary-button__1BtpF\",\"yellow-button\":\"styles_yellow-button__2PbXC\",\"blue-button\":\"styles_blue-button__1gxam\",\"blue1-button\":\"styles_blue1-button__22sGa\",\"red-button\":\"styles_red-button__UIhuV\",\"pointer\":\"styles_pointer__1dJRx\",\"container\":\"styles_container__xKdDq\",\"progressTimer\":\"styles_progressTimer__2L39z\",\"title\":\"styles_title__3i0hf\",\"time\":\"styles_time__1FRL2\",\"closebutton\":\"styles_closebutton__nEH-v\",\"divbuttons\":\"styles_divbuttons__3ki6h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1Oz56\",\"userIcon\":\"styles_userIcon__3si0R\",\"auth\":\"styles_auth__1evL7\",\"login-txt\":\"styles_login-txt__3zNdw\",\"signup-txt\":\"styles_signup-txt__2CCrC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Z_-k\",\"page-option-primary\":\"styles_page-option-primary__2Q6PC\",\"page-option-yellow\":\"styles_page-option-yellow__2qYIs\",\"page-option-blue\":\"styles_page-option-blue__3pE2K\",\"page-option-blue1\":\"styles_page-option-blue1__q0FAh\",\"active-page-option-primary\":\"styles_active-page-option-primary__bcaJF\",\"active-page-option-yellow\":\"styles_active-page-option-yellow__21Na6\",\"active-page-option-blue\":\"styles_active-page-option-blue__3fDH7\",\"active-page-option-blue1\":\"styles_active-page-option-blue1__bTcdM\",\"divExit\":\"styles_divExit__2pHQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"react-calendar-heatmap\":\"styles_react-calendar-heatmap__nrQaW\",\"color-empty\":\"styles_color-empty__2jknp\",\"color-scale-25\":\"styles_color-scale-25__cNLj9\",\"color-scale-50\":\"styles_color-scale-50__2eVtD\",\"color-scale-100\":\"styles_color-scale-100__71Mk6\",\"color-scale-200\":\"styles_color-scale-200__dZHhi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2Do23\",\"form\":\"styles_form__1JcbD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3VKJU\",\"subcontainer\":\"styles_subcontainer__3GcTW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__jpnIg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__lI7wT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__egfNu\"};","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n\t/* ** configs ** */\r\n};\r\n\r\nif (!firebase.apps.length) {\r\n\tfirebase.initializeApp(firebaseConfig);\r\n}\r\n\r\nexport default firebase;\r\n","import {\r\n\tcreateContext,\r\n\tReactNode,\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseState,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getAuthErrorMessage } from \"../database/authErrorMessages\";\r\nimport firebase from \"../database/firebaseConnection\";\r\n\r\ntype UserSignedDataProps = {\r\n\tuid: string;\r\n\temail?: string;\r\n\tusername?: string;\r\n};\r\n\r\ntype UserDataProps = {\r\n\temail: string;\r\n\tpassword: string;\r\n\tusername: string;\r\n};\r\n\r\ntype AuthContextData = {\r\n\tisSigned: boolean;\r\n\tuserData: UserSignedDataProps;\r\n\tusername: string;\r\n\temail: string;\r\n\tisLoading: boolean;\r\n\tisLoadingAuth: boolean;\r\n\tcreateUserWithEmailAndPassword: (JSON: UserDataProps) => any;\r\n\tcreateUserWithGoogle: () => any;\r\n\tsignIn: (email: string, password: string) => any;\r\n\tsignOut: () => any;\r\n};\r\n\r\ntype AuthContextProviderProps = {\r\n\tchildren: ReactNode;\r\n};\r\n\r\nexport const AuthContext = createContext<AuthContextData | null>(null);\r\n\r\nexport const AuthContextProvider = ({ children }: AuthContextProviderProps) => {\r\n\tconst [userData, setUserData] = useState(null);\r\n\tconst username = userData?.username;\r\n\tconst email = userData?.email;\r\n\r\n\tconst [isLoadingAuth, setIsLoadingAuth] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tloadStorage();\r\n\r\n\t\tfunction loadStorage() {\r\n\t\t\tconst storageUserData = localStorage.getItem(\"UserData\");\r\n\r\n\t\t\tif (storageUserData) setUserData(JSON.parse(storageUserData));\r\n\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst handleReturnErrorMessage = error => {\r\n\t\tif (error.code) {\r\n\t\t\ttoast.error(getAuthErrorMessage(error.code));\r\n\t\t} else {\r\n\t\t\ttoast.error(\r\n\t\t\t\t\"Ops! Ocorreu um erro ao tentar executar esta tarefa, tente novamente mais tarde.\"\r\n\t\t\t);\r\n\t\t}\r\n\t\tconsole.log(error);\r\n\t\tsetIsLoadingAuth(false);\r\n\t};\r\n\r\n\tconst saveUserDataInLocalStorage = (userData: UserSignedDataProps) => {\r\n\t\tlocalStorage.setItem(\"UserData\", JSON.stringify(userData));\r\n\t};\r\n\r\n\tconst saveUserData = async (userData: UserSignedDataProps) => {\r\n\t\tconst { uid, username, email } = userData;\r\n\t\tconst isSigned = !username;\r\n\t\tif (isSigned) await saveUserSignedData();\r\n\t\telse await saveUserNotSignedData();\r\n\r\n\t\tfunction getFirebasePath() {\r\n\t\t\treturn firebase.firestore().collection(\"users\").doc(uid);\r\n\t\t}\r\n\r\n\t\tfunction redirectAndSendFeedback() {\r\n\t\t\ttoast.success(\"Bem Vindo a plataforma!\");\r\n\t\t}\r\n\r\n\t\tasync function saveUserSignedData() {\r\n\t\t\tawait getFirebasePath()\r\n\t\t\t\t.get()\r\n\t\t\t\t.then(userProfile => {\r\n\t\t\t\t\tconst username = userProfile.data().username;\r\n\t\t\t\t\tuserData.username = username;\r\n\r\n\t\t\t\t\tsetUserData(userData);\r\n\t\t\t\t\tsaveUserDataInLocalStorage(userData);\r\n\t\t\t\t\tredirectAndSendFeedback();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => handleReturnErrorMessage(error));\r\n\t\t}\r\n\r\n\t\tasync function saveUserNotSignedData() {\r\n\t\t\tawait getFirebasePath()\r\n\t\t\t\t.set({\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\temail,\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetUserData(userData);\r\n\t\t\t\t\tsaveUserDataInLocalStorage(userData);\r\n\t\t\t\t\tredirectAndSendFeedback();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => handleReturnErrorMessage(error));\r\n\t\t}\r\n\t};\r\n\r\n\tconst createUserWithEmailAndPassword = async ({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tusername,\r\n\t}: UserDataProps) => {\r\n\t\tsetIsLoadingAuth(true);\r\n\r\n\t\tawait firebase\r\n\t\t\t.auth()\r\n\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then(\r\n\t\t\t\tasync ev =>\r\n\t\t\t\t\tawait saveUserData({\r\n\t\t\t\t\t\tuid: ev.user.uid,\r\n\t\t\t\t\t\temail,\r\n\t\t\t\t\t\tusername,\r\n\t\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.catch(error => handleReturnErrorMessage(error));\r\n\r\n\t\tsetIsLoadingAuth(false);\r\n\t};\r\n\r\n\tconst createUserWithGoogle = async () => {\r\n\t\tfunction createGoogleAuthProvider() {\r\n\t\t\tconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\t\t\tprovider.addScope(\r\n\t\t\t\t\"https://www.googleapis.com/auth/contacts.readonly\"\r\n\t\t\t);\r\n\r\n\t\t\treturn provider;\r\n\t\t}\r\n\r\n\t\treturn await firebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithPopup(createGoogleAuthProvider())\r\n\t\t\t.then(() => {})\r\n\t\t\t.catch(error => handleReturnErrorMessage(error));\r\n\t};\r\n\r\n\tconst signIn = async (email: string, password: string) => {\r\n\t\tsetIsLoadingAuth(true);\r\n\r\n\t\tawait firebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithEmailAndPassword(email, password)\r\n\t\t\t.then(async ev => {\r\n\t\t\t\tsaveUserData({\r\n\t\t\t\t\tuid: ev.user.uid,\r\n\t\t\t\t\temail: ev.user.email,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => handleReturnErrorMessage(error));\r\n\r\n\t\tsetIsLoadingAuth(false);\r\n\t};\r\n\r\n\tconst signOut = async () => {\r\n\t\ttry {\r\n\t\t\tawait firebase.auth().signOut();\r\n\t\t\tlocalStorage.removeItem(\"UserData\");\r\n\t\t\tsetUserData(null);\r\n\t\t} catch (error) {\r\n\t\t\treturn { error };\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tisSigned: Boolean(userData),\r\n\t\t\t\tuserData,\r\n\t\t\t\tusername,\r\n\t\t\t\temail,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tisLoadingAuth,\r\n\t\t\t\tcreateUserWithEmailAndPassword,\r\n\t\t\t\tcreateUserWithGoogle,\r\n\t\t\t\tsignIn,\r\n\t\t\t\tsignOut,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n","export const getAuthErrorMessage = (errorCode: string) => {\r\n\tlet errorMessage = \"\";\r\n\r\n\tswitch (errorCode) {\r\n\t\tcase \"auth/email-already-in-use\":\r\n\t\t\terrorMessage =\r\n\t\t\t\t\"Already exists an account with the given email address.\";\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"auth/invalid-email\":\r\n\t\t\terrorMessage = \"The email address is not valid.\";\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"auth/operation-not-allowed\":\r\n\t\t\terrorMessage =\r\n\t\t\t\t\"Email/Password accounts are not enabled. Enable email/password accounts in the Firebase Console, under the Auth tab.\";\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"auth/weak-password\":\r\n\t\t\terrorMessage = \"The password is not strong enough.\";\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"auth/user-disabled\":\r\n\t\t\terrorMessage =\r\n\t\t\t\t\"The user corresponding to the given email has been disabled.\";\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"auth/user-not-found\":\r\n\t\t\terrorMessage = \"There is no user corresponding to the given email.\";\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"auth/wrong-password\":\r\n\t\t\terrorMessage = \"The password is invalid.\";\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn errorMessage ?? errorCode;\r\n};\r\n","import { toast } from \"react-toastify\";\r\n\r\nclass Toast {\r\n\tsuccess(message?: string) {\r\n\t\ttoast.success(message ?? \"Procedure done successfully!\");\r\n\t}\r\n\r\n\terror(message?: string) {\r\n\t\ttoast.error(\r\n\t\t\tmessage ??\r\n\t\t\t\t\"Oops! An error occurred while saving your progress, please contact support.\"\r\n\t\t);\r\n\t}\r\n\r\n\tinfo(message: string) {\r\n\t\ttoast.info(message);\r\n\t}\r\n}\r\n\r\nexport default new Toast();\r\n","import { useRef, useState } from \"react\";\r\nimport { StatusContext } from \"../contexts/pomodoroContext\";\r\n\r\nexport interface UseTimerProps {\r\n\ttimeInSeconds: number;\r\n\tisActive: boolean;\r\n\tisPaused: boolean;\r\n\thandleStart: () => any;\r\n\thandlePause: () => any;\r\n\thandleResume: () => any;\r\n\thandleStop: () => any;\r\n}\r\n\r\nexport interface PomodoroDataProps {\r\n\tisStudy: boolean;\r\n\ttotalPomodorosCompleted: number;\r\n\tstatus: StatusContext;\r\n\tsaveStudyProgressInFirebase: () => Promise<any>;\r\n\tsaveShortBreakProgressInFirebase: () => Promise<any>;\r\n\tsaveLongBreakProgressInFirebase: () => Promise<any>;\r\n\thandleChangeStatus: (status: string) => any;\r\n\tconvertMinutesToSeconds: (minutes: number) => number;\r\n}\r\n\r\nexport const useTimer = (pomodoroData: PomodoroDataProps): UseTimerProps => {\r\n\tconst {\r\n\t\tisStudy,\r\n\t\ttotalPomodorosCompleted,\r\n\t\tstatus,\r\n\t\thandleChangeStatus,\r\n\t\tsaveStudyProgressInFirebase,\r\n\t\tsaveShortBreakProgressInFirebase,\r\n\t\tsaveLongBreakProgressInFirebase,\r\n\t\tconvertMinutesToSeconds,\r\n\t} = pomodoroData;\r\n\r\n\tconst [timeInSeconds, setTimeInSeconds] = useState(\r\n\t\tconvertMinutesToSeconds(25)\r\n\t);\r\n\tconst [isActive, setIsActive] = useState(false);\r\n\tconst [isPaused, setIsPaused] = useState(false);\r\n\r\n\tconst countRef = useRef(null);\r\n\r\n\tconst NUM_NEEDED_FOR_LONG_BREAK = 4;\r\n\tconst DEBUG = false;\r\n\r\n\tconst getStudyTime = () => (DEBUG ? 1 : convertMinutesToSeconds(25));\r\n\tconst getShortBreakTime = () => (DEBUG ? 1 : convertMinutesToSeconds(5));\r\n\tconst getLongBreakTime = () => (DEBUG ? 1 : convertMinutesToSeconds(15));\r\n\r\n\tconst toggleStart = () => {\r\n\t\thandleChangeStatus(\"start\");\r\n\t\tsetTimeInSeconds(getStudyTime());\r\n\t};\r\n\r\n\tconst toggleStudy = () => {\r\n\t\thandleChangeStatus(\"study\");\r\n\t\tsetTimeInSeconds(getStudyTime());\r\n\t};\r\n\r\n\tconst toggleShortBreak = () => {\r\n\t\thandleChangeStatus(\"short-break\");\r\n\t\tsetTimeInSeconds(getShortBreakTime());\r\n\t};\r\n\r\n\tconst toggleLongBreak = () => {\r\n\t\thandleChangeStatus(\"long-break\");\r\n\t\tsetTimeInSeconds(getLongBreakTime());\r\n\t};\r\n\r\n\tconst handleStart = () => {\r\n\t\ttoggleStudy();\r\n\t\tsetIsActive(true);\r\n\t\tsetIsPaused(true);\r\n\t\thandleCountdown(false);\r\n\t};\r\n\r\n\tconst handleResume = () => {\r\n\t\tsetIsPaused(true);\r\n\t\thandleCountdown(true);\r\n\t};\r\n\r\n\tconst verifyAndSaveProgressInFirebase = async () => {\r\n\t\tif (status === \"start\" || status === \"study\") {\r\n\t\t\tawait saveStudyProgressInFirebase();\r\n\t\t} else if (totalPomodorosCompleted > 0) {\r\n\t\t\tawait saveShortBreakProgressInFirebase();\r\n\t\t} else {\r\n\t\t\tawait saveLongBreakProgressInFirebase();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCountdown = (bool: boolean) => {\r\n\t\tcountRef.current = setInterval(async () => {\r\n\t\t\tlet isEnd = false;\r\n\r\n\t\t\tsetTimeInSeconds((timeInSeconds: number) => {\r\n\t\t\t\tif (timeInSeconds === 0) {\r\n\t\t\t\t\ttoggleSituation();\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (timeInSeconds - 1 === 0) {\r\n\t\t\t\t\tisEnd = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn timeInSeconds - 1;\r\n\t\t\t});\r\n\r\n\t\t\tif (isEnd) {\r\n\t\t\t\tawait verifyAndSaveProgressInFirebase();\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\r\n\t\tfunction toggleSituation() {\r\n\t\t\t// gabiarra provisria\r\n\t\t\tif (isStudy === bool) {\r\n\t\t\t\tif (totalPomodorosCompleted === NUM_NEEDED_FOR_LONG_BREAK) {\r\n\t\t\t\t\ttoggleLongBreak();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoggleShortBreak();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttoggleStudy();\r\n\t\t\t}\r\n\t\t\thandlePause();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handlePause = () => {\r\n\t\tclearInterval(countRef.current);\r\n\t\tsetIsPaused(false);\r\n\t};\r\n\r\n\tconst handleStop = () => {\r\n\t\tif (handleConfirmStop()) {\r\n\t\t\thandleReset();\r\n\t\t}\r\n\r\n\t\tfunction handleReset() {\r\n\t\t\tclearInterval(countRef.current);\r\n\t\t\tsetIsActive(false);\r\n\t\t\tsetIsPaused(false);\r\n\t\t\ttoggleStart();\r\n\t\t}\r\n\r\n\t\tfunction handleConfirmStop(): boolean {\r\n\t\t\tconst confirm = window.confirm(\r\n\t\t\t\t\"Are you sure you want to stop the cycle? The current process will be lost.\"\r\n\t\t\t);\r\n\t\t\treturn Boolean(confirm);\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\ttimeInSeconds,\r\n\t\tisActive,\r\n\t\tisPaused,\r\n\t\thandleStart,\r\n\t\thandlePause,\r\n\t\thandleResume,\r\n\t\thandleStop,\r\n\t};\r\n};\r\n","import { createContext, ReactNode, useContext, useState } from \"react\";\r\nimport Toast from \"../components/Toast\";\r\nimport firebase from \"../database/firebaseConnection\";\r\nimport { useTimer, UseTimerProps } from \"../hooks/useTimer\";\r\nimport { useAuth } from \"./authContext\";\r\n\r\nexport type StatusContext = \"start\" | \"study\" | \"short-break\" | \"long-break\";\r\n\r\nexport interface PomodoroContextProps extends UseTimerProps {\r\n\tisStart: boolean;\r\n\tisStudy: boolean;\r\n\tisShortBreak: boolean;\r\n\tisLongBreak: boolean;\r\n\tisLoading: boolean;\r\n\ttotalPomodorosCompleted: number;\r\n\ttheme: string;\r\n\tstatus: StatusContext;\r\n\tuseTheme: string;\r\n\tuseDarkTheme: string;\r\n\tuseLightTheme: string;\r\n\tsaveStudyProgressInFirebase: () => Promise<any>;\r\n\tsaveShortBreakProgressInFirebase: () => Promise<any>;\r\n\tsaveLongBreakProgressInFirebase: () => Promise<any>;\r\n\thandleChangeStatus: (status: string) => any;\r\n\tconvertMinutesToSeconds: (minutes: number) => number;\r\n}\r\n\r\ntype PomodoroContextProviderProps = {\r\n\tchildren: ReactNode;\r\n};\r\n\r\nexport const PomodoroContext = createContext<PomodoroContextProps | null>(null);\r\n\r\nexport const PomodoroContextProvider = ({\r\n\tchildren,\r\n}: PomodoroContextProviderProps) => {\r\n\tconst { isSigned, userData } = useAuth();\r\n\tconst uid = userData?.uid;\r\n\r\n\tconst [status, setStatus] = useState<StatusContext>(\"start\");\r\n\tconst [isStart, setIsStart] = useState(true);\r\n\tconst [isStudy, setIsStudy] = useState(false);\r\n\tconst [isShortBreak, setIsShortBreak] = useState(false);\r\n\tconst [isLongBreak, setIsLongBreak] = useState(false);\r\n\tconst [theme, setTheme] = useState(\"primary\");\r\n\tconst [totalPomodorosCompleted, setTotalPomodorosCompleted] = useState(0);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst convertMinutesToSeconds = (minutes: number): number => minutes * 60;\r\n\r\n\tconst getCurrentDateString = () => {\r\n\t\tconst currentDay = new Date();\r\n\t\tcurrentDay.setHours(0),\r\n\t\t\tcurrentDay.setMinutes(0),\r\n\t\t\tcurrentDay.setSeconds(0);\r\n\t\treturn `${currentDay}`;\r\n\t};\r\n\r\n\tconst getAndIncreaseDuration = async (\r\n\t\tlocation: {\r\n\t\t\tcollection: string;\r\n\t\t\tdoc: string;\r\n\t\t},\r\n\t\tincrement: number\r\n\t): Promise<{ error?: {} }> => {\r\n\t\tconst { collection, doc } = location;\r\n\t\treturn await handleIncrease();\r\n\r\n\t\tasync function getDuration() {\r\n\t\t\treturn await firebase\r\n\t\t\t\t.firestore()\r\n\t\t\t\t.collection(\"users\")\r\n\t\t\t\t.doc(uid)\r\n\t\t\t\t.collection(collection)\r\n\t\t\t\t.doc(doc)\r\n\t\t\t\t.get()\r\n\t\t\t\t.then(doc => doc.data()?.duration ?? 0);\r\n\t\t}\r\n\r\n\t\tasync function handleIncrease(): Promise<{ error?: {} }> {\r\n\t\t\tlet duration = await getDuration();\r\n\r\n\t\t\treturn await firebase\r\n\t\t\t\t.firestore()\r\n\t\t\t\t.collection(\"users\")\r\n\t\t\t\t.doc(uid)\r\n\t\t\t\t.collection(collection)\r\n\t\t\t\t.doc(doc)\r\n\t\t\t\t.set({\r\n\t\t\t\t\tduration: duration + increment,\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\treturn { error };\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tasync function saveStudyProgressInFirebase() {\r\n\t\tif (!isSigned) {\r\n\t\t\tToast.info(\r\n\t\t\t\t\"Save your progress! Register and get access to your statistics\"\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { error } = await handleAddStudyTime();\r\n\t\tif (error) {\r\n\t\t\tToast.error();\r\n\t\t\tconsole.log(error ?? \"\");\r\n\t\t} else\r\n\t\t\tToast.success(\r\n\t\t\t\t\"Congratulations you finished 25 minutes of study, they were added to your history today, check the dashboard later. Time to relax ^^\"\r\n\t\t\t);\r\n\r\n\t\tasync function handleAddStudyTime(): Promise<{ error?: {} }> {\r\n\t\t\tconst location = {\r\n\t\t\t\tcollection: \"study-time-days\",\r\n\t\t\t\tdoc: getCurrentDateString(),\r\n\t\t\t};\r\n\r\n\t\t\tconst increment = 25;\r\n\r\n\t\t\treturn await getAndIncreaseDuration(location, increment);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function saveShortBreakProgressInFirebase() {\r\n\t\tif (!isSigned) return;\r\n\r\n\t\tconst error = (await handleAddShortBreakTime()).error;\r\n\t\tif (error) {\r\n\t\t\tToast.error();\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\tasync function handleAddShortBreakTime(): Promise<{ error?: {} }> {\r\n\t\t\tconst location = {\r\n\t\t\t\tcollection: \"short-break-time-days\",\r\n\t\t\t\tdoc: getCurrentDateString(),\r\n\t\t\t};\r\n\r\n\t\t\tconst increment = 5;\r\n\r\n\t\t\treturn await getAndIncreaseDuration(location, increment);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function saveLongBreakProgressInFirebase() {\r\n\t\tif (!isSigned) return;\r\n\r\n\t\tconst error = (await handleAddLongBreakTime()).error;\r\n\t\tif (error) {\r\n\t\t\tToast.error();\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\tasync function handleAddLongBreakTime(): Promise<{ error?: {} }> {\r\n\t\t\tconst location = {\r\n\t\t\t\tcollection: \"long-break-time-days\",\r\n\t\t\t\tdoc: getCurrentDateString(),\r\n\t\t\t};\r\n\r\n\t\t\tconst increment = 15;\r\n\r\n\t\t\treturn await getAndIncreaseDuration(location, increment);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChangeStatus = async (newStatus: StatusContext) => {\r\n\t\tsetIsLoading(true);\r\n\t\thandleChangeIsStart(Boolean(newStatus === \"start\"));\r\n\t\tawait handleChangeIsStudy(Boolean(newStatus === \"study\"));\r\n\t\tawait handleChangeIsShortBreak(Boolean(newStatus === \"short-break\"));\r\n\t\tawait handleChangeIsLongBreak(Boolean(newStatus === \"long-break\"));\r\n\t\tsetStatus(newStatus);\r\n\t\tsetIsLoading(false);\r\n\r\n\t\tfunction handleChangeIsStart(newIsStart: boolean) {\r\n\t\t\tsetIsStart(newIsStart);\r\n\t\t\tif (!newIsStart) return;\r\n\r\n\t\t\tsetTotalPomodorosCompleted(0);\r\n\t\t\ttoggleThemeStart();\r\n\r\n\t\t\tfunction toggleThemeStart() {\r\n\t\t\t\tsetTheme(\"primary\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tasync function handleChangeIsStudy(newIsStudy: boolean) {\r\n\t\t\tsetIsStudy(newIsStudy);\r\n\t\t\tif (!newIsStudy) return;\r\n\r\n\t\t\ttoggleThemeStudy();\r\n\r\n\t\t\tfunction toggleThemeStudy() {\r\n\t\t\t\tsetTheme(\"yellow\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tasync function handleChangeIsShortBreak(newIsShortBreak: boolean) {\r\n\t\t\tsetIsShortBreak(newIsShortBreak);\r\n\t\t\tif (!newIsShortBreak) return;\r\n\r\n\t\t\thandleAddOnePomodoro();\r\n\t\t\ttoggleThemeShortBreak();\r\n\r\n\t\t\tfunction handleAddOnePomodoro() {\r\n\t\t\t\tconst isStartValue = Boolean(totalPomodorosCompleted === 0);\r\n\t\t\t\tconst increment = isStartValue ? 2 : 1;\r\n\t\t\t\tsetTotalPomodorosCompleted(totalPomodorosCompleted + increment);\r\n\t\t\t}\r\n\r\n\t\t\tfunction toggleThemeShortBreak() {\r\n\t\t\t\tsetTheme(\"blue\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tasync function handleChangeIsLongBreak(newIsLongBreak: boolean) {\r\n\t\t\tsetIsLongBreak(newIsLongBreak);\r\n\t\t\tif (!newIsLongBreak) return;\r\n\r\n\t\t\thandleRestartTotalPomodoro();\r\n\t\t\ttoggleThemeLongBreak();\r\n\r\n\t\t\tfunction handleRestartTotalPomodoro() {\r\n\t\t\t\tsetTotalPomodorosCompleted(0);\r\n\t\t\t}\r\n\r\n\t\t\tfunction toggleThemeLongBreak() {\r\n\t\t\t\tsetTheme(\"blue1\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst useTheme = `var(--${theme})`;\r\n\tconst useDarkTheme = `var(--dark-${theme})`;\r\n\tconst useLightTheme = `var(--light-${theme})`;\r\n\r\n\tconst pomodoroContextResponse = {\r\n\t\tisStart,\r\n\t\tisStudy,\r\n\t\tisShortBreak,\r\n\t\tisLongBreak,\r\n\t\tisLoading,\r\n\t\ttotalPomodorosCompleted,\r\n\t\ttheme,\r\n\t\tstatus,\r\n\t\tuseTheme,\r\n\t\tuseDarkTheme,\r\n\t\tuseLightTheme,\r\n\t\tsaveStudyProgressInFirebase,\r\n\t\tsaveShortBreakProgressInFirebase,\r\n\t\tsaveLongBreakProgressInFirebase,\r\n\t\thandleChangeStatus,\r\n\t\tconvertMinutesToSeconds,\r\n\t};\r\n\r\n\tconst useTimerResponse = useTimer(pomodoroContextResponse);\r\n\r\n\treturn (\r\n\t\t<PomodoroContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\t...pomodoroContextResponse,\r\n\t\t\t\t...useTimerResponse,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</PomodoroContext.Provider>\r\n\t);\r\n};\r\n\r\nexport const usePomodoro = () => {\r\n\treturn useContext(PomodoroContext);\r\n};\r\n","import { useState } from \"react\";\r\nimport { FiUser } from \"react-icons/fi\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nexport const Header = () => {\r\n\tconst { isSigned } = useAuth();\r\n\tconst { useTheme, isStart } = usePomodoro();\r\n\tconst history = useHistory();\r\n\tconst [isHover, setIsHover] = useState(false);\r\n\r\n\tconst toggleHover = () => setIsHover(!isHover);\r\n\r\n\tconst handleRedirectToDashboard = () => {\r\n\t\thistory.push(\"/dashboard\");\r\n\t};\r\n\r\n\tconst handleRedirectToSign = (optionAuth: string) => {\r\n\t\thistory.push(`welcome?${optionAuth}`);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={styles.container}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackground: useTheme,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<span\r\n\t\t\t\tid=\"pointer\"\r\n\t\t\t\tstyle={{ fontSize: 31 }}\r\n\t\t\t\tonClick={() => history.push(\"/\")}\r\n\t\t\t>\r\n\t\t\t\tPomodoro\r\n\t\t\t</span>\r\n\r\n\t\t\t{isSigned ? (\r\n\t\t\t\t<FiUser\r\n\t\t\t\t\tid=\"pointer\"\r\n\t\t\t\t\tclassName={styles.userIcon}\r\n\t\t\t\t\tstyle={{ color: useTheme }}\r\n\t\t\t\t\tonClick={() => handleRedirectToDashboard()}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div className={styles.auth}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"primary-button\"\r\n\t\t\t\t\t\tid={styles[\"login-txt\"]}\r\n\t\t\t\t\t\tonMouseEnter={toggleHover}\r\n\t\t\t\t\t\tonMouseLeave={toggleHover}\r\n\t\t\t\t\t\tonClick={() => handleRedirectToSign(\"signin\")}\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tisHover\r\n\t\t\t\t\t\t\t\t? { color: useTheme }\r\n\t\t\t\t\t\t\t\t: { color: \"var(--white)\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"primary-button\"\r\n\t\t\t\t\t\tid={styles[\"signup-txt\"]}\r\n\t\t\t\t\t\tstyle={{ color: useTheme }}\r\n\t\t\t\t\t\tonClick={() => handleRedirectToSign(\"signup\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Puff, useLoading } from \"@agney/react-loading\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nexport const Loader = ({ size = \"60\", color = \"\" }) => {\r\n\tconst { useTheme } = usePomodoro();\r\n\r\n\tconst { containerProps, indicatorEl } = useLoading({\r\n\t\tloading: true,\r\n\t\tindicator: <Puff width={size} />,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<section\r\n\t\t\t{...containerProps}\r\n\t\t\tclassName={styles.container}\r\n\t\t\tstyle={{ color: useTheme }}\r\n\t\t>\r\n\t\t\t{indicatorEl}\r\n\t\t</section>\r\n\t);\r\n};\r\n","import { format } from \"date-fns\";\r\nimport CalendarHeatmap from \"react-calendar-heatmap\";\r\nimport \"react-calendar-heatmap/dist/styles.css\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\ntype PomodoroDayProps = {\r\n\tdate?: string;\r\n\tcountInMinutes?: number;\r\n};\r\n\r\ntype PomodoroDaysProps = {\r\n\tpomodoroDays: Array<PomodoroDayProps>;\r\n};\r\n\r\nexport const CalendarHeatMap = ({ pomodoroDays }: PomodoroDaysProps) => {\r\n\tconst currentDay = new Date();\r\n\r\n\tconst formatDate = (date: Date): string => format(date, \"yyyy-MM-dd\");\r\n\r\n\tconst getTomorrowsDate = (): Date => {\r\n\t\tconst tomorrowsDate = new Date();\r\n\t\ttomorrowsDate.setDate(currentDay.getDate() + 1);\r\n\t\treturn tomorrowsDate;\r\n\t};\r\n\r\n\tconst getTomorrowsDateLastYear = (): Date => {\r\n\t\tconst tomorrowsDateLastYear = new Date();\r\n\t\ttomorrowsDateLastYear.setFullYear(currentDay.getFullYear() - 1);\r\n\t\treturn tomorrowsDateLastYear;\r\n\t};\r\n\r\n\tconst getTitleForValue = ({\r\n\t\tdate,\r\n\t\tcountInMinutes,\r\n\t}: PomodoroDayProps): string =>\r\n\t\tcountInMinutes !== undefined &&\r\n\t\t`${format(new Date(date), \"MMM dd, yyyy\")} - ${countInMinutes} minute${\r\n\t\t\tcountInMinutes === 1 ? \"\" : \"s\"\r\n\t\t} of study`;\r\n\r\n\tconst findValueCountRange = (countInMinutes: number) => {\r\n\t\tif (countInMinutes <= 25) {\r\n\t\t\treturn 25;\r\n\t\t}\r\n\t\tif (countInMinutes <= 50) {\r\n\t\t\treturn 50;\r\n\t\t}\r\n\t\tif (countInMinutes <= 100) {\r\n\t\t\treturn 100;\r\n\t\t}\r\n\t\treturn 200;\r\n\t};\r\n\r\n\tconst getClassForValue = (countInMinutes: number) =>\r\n\t\tcountInMinutes\r\n\t\t\t? `color-scale-${findValueCountRange(countInMinutes)}`\r\n\t\t\t: \"color-empty\";\r\n\r\n\treturn (\r\n\t\t<div className={styles[\"react-calendar-heatmap\"]}>\r\n\t\t\t<CalendarHeatmap\r\n\t\t\t\tvalues={pomodoroDays ?? []}\r\n\t\t\t\tshowWeekdayLabels\r\n\t\t\t\tstartDate={formatDate(getTomorrowsDateLastYear())}\r\n\t\t\t\tendDate={formatDate(getTomorrowsDate())}\r\n\t\t\t\ttitleForValue={(value: PomodoroDayProps) =>\r\n\t\t\t\t\tgetTitleForValue(value)\r\n\t\t\t\t}\r\n\t\t\t\tclassForValue={({ countInMinutes }: PomodoroDayProps) =>\r\n\t\t\t\t\tstyles[getClassForValue(countInMinutes)]\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { FiHelpCircle, FiLogOut, FiPieChart, FiSettings } from \"react-icons/fi\";\r\nimport { MdOutlineLeaderboard } from \"react-icons/md\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport Toast from \"../Toast\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nexport const MenuProfileOptions = () => {\r\n\tconst { signOut, username } = useAuth();\r\n\tconst { theme } = usePomodoro();\r\n\tconst history = useHistory();\r\n\r\n\tconst pageOptions = [\r\n\t\t{\r\n\t\t\tname: \"Dashboard\",\r\n\t\t\ticon: <FiPieChart />,\r\n\t\t\troute: \"/dashboard\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Rank\",\r\n\t\t\ticon: <MdOutlineLeaderboard />,\r\n\t\t\troute: \"/leaderboard\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Settings\",\r\n\t\t\ticon: <FiSettings />,\r\n\t\t\troute: \"/settings\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Suport\",\r\n\t\t\ticon: <FiHelpCircle />,\r\n\t\t\troute: \"/suport\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tisSignOut: true,\r\n\t\t\tname: \"Sign Out\",\r\n\t\t\ticon: <FiLogOut />,\r\n\t\t},\r\n\t];\r\n\r\n\tconst handleSignOut = () => {\r\n\t\tconst confirm = window.confirm(\"Are you sure you want to sign out?\");\r\n\t\tif (!confirm) return;\r\n\r\n\t\tconst { error } = signOut();\r\n\t\tif (error) {\r\n\t\t\tToast.error();\r\n\t\t\tconsole.log(error);\r\n\t\t} else {\r\n\t\t\thistory.replace(\"/\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst is = (page: string) => {\r\n\t\treturn Boolean(history.location.pathname === page);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<h2 style={{ marginBottom: 20 }}>Welcome, {username}!</h2>\r\n\r\n\t\t\t{pageOptions.map(({ isSignOut, name, icon, route }) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={name}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tisSignOut\r\n\t\t\t\t\t\t\t? styles.divExit\r\n\t\t\t\t\t\t\t: is(route)\r\n\t\t\t\t\t\t\t? styles[`active-page-option-${theme}`]\r\n\t\t\t\t\t\t\t: styles[`page-option-${theme}`]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tisSignOut ? handleSignOut() : history.push(route)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span style={{ marginRight: 10 }}>{icon}</span>\r\n\r\n\t\t\t\t\t<span>{name}</span>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { CalendarHeatMap } from \"../../components/CalendarHeatMap\";\r\nimport { Loader } from \"../../components/Loader\";\r\nimport { MenuProfileOptions } from \"../../components/MenuProfileOptions\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport firebase from \"../../database/firebaseConnection\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\ntype StudyTimeDaysProps = {\r\n\tdate: string;\r\n\tcountInMinutes: number;\r\n};\r\n\r\nexport const Dashboard = () => {\r\n\tconst { handleChangeStatus } = usePomodoro();\r\n\r\n\tconst [pomodoroDays, setPomodoroDays] = useState([]);\r\n\tconst [allStudyTime, setAllStudyTime] = useState(0);\r\n\tconst [allShortBreakTime, setAllShortBreakTime] = useState(0);\r\n\tconst [allLongBreakTime, setAllLongBreakTime] = useState(0);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tconst getUid = () => JSON.parse(localStorage.getItem(\"UserData\")).uid;\r\n\tconst getPlural = (value: number) => (value === 1 ? \"\" : \"s\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\tconst { newStudyDays, newAllStudyTime } =\r\n\t\t\t\tawait getStudyDaysAndAllStudyTime();\r\n\t\t\tconst newShortBreakTime = await getAllShortBreakTime();\r\n\t\t\tconst newLongBreakTime = await getAllLongBreakTime();\r\n\t\t\tsetPomodoroDays(newStudyDays);\r\n\t\t\tsetAllStudyTime(newAllStudyTime);\r\n\t\t\tsetAllShortBreakTime(newShortBreakTime);\r\n\t\t\tsetAllLongBreakTime(newLongBreakTime);\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tasync function getStudyDaysAndAllStudyTime(): Promise<{\r\n\t\tnewStudyDays: Array<StudyTimeDaysProps>;\r\n\t\tnewAllStudyTime: number;\r\n\t}> {\r\n\t\tconst newStudyDays = new Array<StudyTimeDaysProps>(366);\r\n\t\tlet newAllStudyTime = 0;\r\n\t\tlet currentIndex = 0;\r\n\r\n\t\tawait firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(getUid())\r\n\t\t\t.collection(\"study-time-days\")\r\n\t\t\t.get()\r\n\t\t\t.then(snapshot => {\r\n\t\t\t\tsnapshot.forEach(doc => {\r\n\t\t\t\t\tconst intervalBetweenTodayAndSnapshotDay =\r\n\t\t\t\t\t\tnew Date().getDate() - new Date(doc?.id).getDate();\r\n\r\n\t\t\t\t\tconst { duration } = doc.data();\r\n\r\n\t\t\t\t\tnewAllStudyTime += duration;\r\n\r\n\t\t\t\t\t(newStudyDays[intervalBetweenTodayAndSnapshotDay] = {\r\n\t\t\t\t\t\tdate: doc?.id,\r\n\t\t\t\t\t\tcountInMinutes: duration,\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\t++currentIndex;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\tfor (let i = 0; i < 366; ++i) {\r\n\t\t\tif (!newStudyDays[i]?.date) {\r\n\t\t\t\tconst newDate = new Date();\r\n\t\t\t\tnewDate.setDate(newDate.getDate() - i);\r\n\t\t\t\tnewStudyDays[i] = {\r\n\t\t\t\t\tdate: String(newDate),\r\n\t\t\t\t\tcountInMinutes: 0,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { newStudyDays, newAllStudyTime };\r\n\t}\r\n\r\n\tasync function getAllShortBreakTime(): Promise<number> {\r\n\t\tlet newAllShortBreakTime = 0;\r\n\r\n\t\tawait firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(getUid())\r\n\t\t\t.collection(\"short-break-time-days\")\r\n\t\t\t.get()\r\n\t\t\t.then(snapshot => {\r\n\t\t\t\tsnapshot.forEach(\r\n\t\t\t\t\tdoc => (newAllShortBreakTime += doc.data()?.duration ?? 0)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\treturn newAllShortBreakTime;\r\n\t}\r\n\r\n\tasync function getAllLongBreakTime(): Promise<number> {\r\n\t\tlet newAllShortBreakTime = 0;\r\n\r\n\t\tawait firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(getUid())\r\n\t\t\t.collection(\"long-break-time-days\")\r\n\t\t\t.get()\r\n\t\t\t.then(snapshot => {\r\n\t\t\t\tsnapshot.forEach(\r\n\t\t\t\t\tdoc => (newAllShortBreakTime += doc.data()?.duration ?? 0)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\treturn newAllShortBreakTime;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<MenuProfileOptions />\r\n\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : (\r\n\t\t\t\t<div className={styles.subcontainer}>\r\n\t\t\t\t\t<h1>Dashboard</h1>\r\n\r\n\t\t\t\t\t<CalendarHeatMap pomodoroDays={pomodoroDays} />\r\n\r\n\t\t\t\t\t<div className={styles.statisticsContainer}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={styles.containerAllTime}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tborderRadius: \"10px 0 0 10px\",\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\"linear-gradient(var(--yellow), var(--dark-yellow))\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Total Study Time</span>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{allStudyTime} Minute{getPlural(allStudyTime)}{\" \"}\r\n\t\t\t\t\t\t\t\t{allStudyTime > 25 && \"\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"div-column\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={styles.containerAllTime}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tborderRadius: \"0 10px 0 0\",\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\"linear-gradient(var(--blue), var(--dark-blue))\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span>Total Short Break Time</span>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{allShortBreakTime} Minute\r\n\t\t\t\t\t\t\t\t\t{getPlural(allShortBreakTime)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={styles.containerAllTime}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tborderRadius: \"0 0 10px 0\",\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\"linear-gradient(var(--blue1), var(--dark-blue1))\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span>Total Long Break Time</span>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{allLongBreakTime} Minute\r\n\t\t\t\t\t\t\t\t\t{getPlural(allLongBreakTime)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { usePomodoro } from \"../../contexts/pomodoroContext\";\r\n\r\ntype ButtonTimerTypes = {\r\n\tisPaused: boolean;\r\n\thandleStart: () => any;\r\n\thandlePause: () => any;\r\n\thandleResume: () => any;\r\n};\r\n\r\nexport const ButtonTimer = ({\r\n\tisPaused,\r\n\thandleStart,\r\n\thandlePause,\r\n\thandleResume,\r\n}: ButtonTimerTypes) => {\r\n\tconst { theme, isStart } = usePomodoro();\r\n\r\n\treturn isStart ? (\r\n\t\t<button\r\n\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\tclassName=\"primary-button\"\r\n\t\t\tonClick={handleStart}\r\n\t\t>\r\n\t\t\tStart\r\n\t\t</button>\r\n\t) : (\r\n\t\t<button\r\n\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\tclassName={`${theme}-button`}\r\n\t\t\tonClick={isPaused ? handlePause : handleResume}\r\n\t\t>\r\n\t\t\t{isPaused ? \"Pause\" : \"Resume\"}\r\n\t\t</button>\r\n\t);\r\n};\r\n","export const formatTime = (timeInSeconds = 0) => {\r\n\tconst formattedSeconds = `0${timeInSeconds % 60}`.slice(-2);\r\n\tconst timeInMinutes = Math.floor(timeInSeconds / 60);\r\n\tconst formattedMinutes = `0${timeInMinutes % 60}`.slice(-2);\r\n\tconst formattedTime = `${formattedMinutes} : ${formattedSeconds}`;\r\n\r\n\treturn formattedTime;\r\n};\r\n","import { ProgressBar } from \"react-bootstrap\";\r\nimport { ButtonTimer } from \"../../components/ButtonTimer\";\r\nimport { Loader } from \"../../components/Loader\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport { formatTime } from \"../../utils/formatTime\";\r\nimport styles from \"./styles.module.scss\";\r\n\r\nexport const Home = () => {\r\n\tconst {\r\n\t\tisStart,\r\n\t\tisStudy,\r\n\t\tisShortBreak,\r\n\t\tisLoading,\r\n\t\tconvertMinutesToSeconds,\r\n\t\ttimeInSeconds,\r\n\t\tisPaused,\r\n\t\thandleStart,\r\n\t\thandlePause,\r\n\t\thandleResume,\r\n\t\thandleStop,\r\n\t} = usePomodoro();\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<div className={styles.subcontainer}>\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className={styles.subcontainer}>\r\n\t\t\t\t\t{isStart || (\r\n\t\t\t\t\t\t<ProgressBar\r\n\t\t\t\t\t\t\tvariant={isStudy ? \"warning\" : \"info\"}\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tnow={timeInSeconds}\r\n\t\t\t\t\t\t\tmax={\r\n\t\t\t\t\t\t\t\tisStudy\r\n\t\t\t\t\t\t\t\t\t? convertMinutesToSeconds(25)\r\n\t\t\t\t\t\t\t\t\t: isShortBreak\r\n\t\t\t\t\t\t\t\t\t? convertMinutesToSeconds(5)\r\n\t\t\t\t\t\t\t\t\t: convertMinutesToSeconds(15)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tid={styles.progressTimer}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<h2 id={styles.title}>\r\n\t\t\t\t\t\t{isStart\r\n\t\t\t\t\t\t\t? \"Study with more focus\"\r\n\t\t\t\t\t\t\t: isStudy\r\n\t\t\t\t\t\t\t? \"Studying\"\r\n\t\t\t\t\t\t\t: isShortBreak\r\n\t\t\t\t\t\t\t? \"Short Break\"\r\n\t\t\t\t\t\t\t: \"Long Break\"}\r\n\t\t\t\t\t</h2>\r\n\r\n\t\t\t\t\t<h2 id={styles.time}>{formatTime(timeInSeconds)}</h2>\r\n\r\n\t\t\t\t\t<ButtonTimer\r\n\t\t\t\t\t\tisPaused={isPaused}\r\n\t\t\t\t\t\thandleStart={handleStart}\r\n\t\t\t\t\t\thandlePause={handlePause}\r\n\t\t\t\t\t\thandleResume={handleResume}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{isStart || (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: 14,\r\n\t\t\t\t\t\t\t\tfontSize: 25,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"red-button\"\r\n\t\t\t\t\t\t\tonClick={handleStop}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStop\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { Form, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport { Loader } from \"../../components/Loader\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport styles from \"./styles.module.scss\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const Login__Register = () => {\r\n\tconst location = useLocation();\r\n\r\n\tconst { createUserWithEmailAndPassword, signIn } = useAuth();\r\n\tconst { theme } = usePomodoro();\r\n\r\n\tconst [optionAuth, setOptionAuth] = useState(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { search } = location;\r\n\t\tsetOptionAuth(search.substring(1, search.length));\r\n\t}, [location.search]);\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconsole.log(optionAuth);\r\n\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tif (optionAuth === \"signin\") {\r\n\t\t\tawait signIn(email, password);\r\n\t\t} else {\r\n\t\t\tawait createUserWithEmailAndPassword({\r\n\t\t\t\tusername,\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetIsLoading(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<Form\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\tclassName={styles.form + \" container-box-shadow\"}\r\n\t\t\t>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t{optionAuth === \"signup\" ? \"Register\" : \"Login\"}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{optionAuth === \"signup\" && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<FormLabel>Username</FormLabel>\r\n\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter your username\"\r\n\t\t\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\tsetUsername(ev.target.value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<FormLabel>Email</FormLabel>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter your email\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={ev => setEmail(ev.target.value)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<FormLabel>Password</FormLabel>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter your password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={ev => setPassword(ev.target.value)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<button className={`${theme}-button`} type=\"submit\">\r\n\t\t\t\t\t\t\t{optionAuth === \"signup\" ? \"Register\" : \"Login\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import styles from \"./styles.module.scss\";\r\n\r\nexport const NotFoundError = () => {\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<p>Error 404</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { MenuProfileOptions } from \"../../components/MenuProfileOptions\";\r\nimport styles from \"./styles.module.scss\";\r\nimport firebase from \"../../database/firebaseConnection\";\r\nimport { Form, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport { Loader } from \"../../components/Loader\";\r\nimport { usePomodoro } from \"../../contexts/pomodoroContext\";\r\nimport Toast from \"../../components/Toast\";\r\n\r\nexport const Settings = () => {\r\n\tconst { theme } = usePomodoro();\r\n\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\r\n\tconst getUid = () => JSON.parse(localStorage.getItem(\"UserData\")).uid;\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\tawait firebase\r\n\t\t\t\t.firestore()\r\n\t\t\t\t.collection(\"users\")\r\n\t\t\t\t.doc(getUid())\r\n\t\t\t\t.get()\r\n\t\t\t\t.then(e => {\r\n\t\t\t\t\tconst data = e.data();\r\n\t\t\t\t\tsetUsername(data.username);\r\n\t\t\t\t\tsetEmail(data.email);\r\n\t\t\t\t});\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst handleUpdate = async e => {\r\n\t\te.preventDefault();\r\n\t\tawait firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(getUid())\r\n\t\t\t.update({\r\n\t\t\t\tusername,\r\n\t\t\t\temail,\r\n\t\t\t})\r\n\t\t\t.then(() => Toast.success(\"Informaes editadas com sucesso!!\"));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<MenuProfileOptions />\r\n\r\n\t\t\t<div className={styles.subcontainer}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={handleUpdate}>\r\n\t\t\t\t\t\t<FormLabel>Username</FormLabel>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<FormLabel>Email</FormLabel>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<button type=\"submit\" className={`${theme}-button`}>\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { Header } from \"./components/Header\";\r\nimport { Loader } from \"./components/Loader\";\r\nimport { useAuth } from \"./contexts/authContext\";\r\nimport { Dashboard } from \"./pages/Dashboard\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Login__Register } from \"./pages/Login__Register\";\r\nimport { NotFoundError as Error } from \"./pages/NotFoundError\";\r\nimport { Settings } from \"./pages/Settings\";\r\nimport styles from \"./styles/app.module.scss\";\r\n\r\nexport const Routes = () => {\r\n\tconst { isSigned, isLoading } = useAuth();\r\n\r\n\tconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props =>\r\n\t\t\t\tisSigned ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\tto={{ pathname: \"*\", state: { from: props.location } }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n\r\n\tconst NoAuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props =>\r\n\t\t\t\t!isSigned ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\tpathname: \"/dashboard\",\r\n\t\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n\r\n\tif (isLoading) {\r\n\t\treturn <Loader />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<Header />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t<NoAuthenticatedRoute\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath=\"/welcome\"\r\n\t\t\t\t\tcomponent={Login__Register}\r\n\t\t\t\t/>\r\n\t\t\t\t<AuthenticatedRoute\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath=\"/dashboard\"\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<AuthenticatedRoute\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath=\"/settings\"\r\n\t\t\t\t\tcomponent={Settings}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route path=\"*\" component={Error} />\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { AuthContextProvider } from \"./contexts/authContext\";\r\nimport { PomodoroContextProvider } from \"./contexts/pomodoroContext\";\r\nimport { Routes } from \"./routes\";\r\n\r\nexport const App = () => {\r\n\treturn (\r\n\t\t<AuthContextProvider>\r\n\t\t\t<PomodoroContextProvider>\r\n\t\t\t\t<BrowserRouter>\r\n\t\t\t\t\t<ToastContainer autoClose={3000} />\r\n\t\t\t\t\t<Routes />\r\n\t\t\t\t</BrowserRouter>\r\n\t\t\t</PomodoroContextProvider>\r\n\t\t</AuthContextProvider>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { App } from \"./App\";\r\nimport \"./styles/global.scss\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}